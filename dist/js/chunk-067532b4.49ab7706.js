(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-067532b4"],{acd2:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[t("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),t("div",{staticStyle:{margin:"15px 0"}}),t("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,(function(s){return t("el-checkbox",{key:s.id,attrs:{label:s.id}},[e._v(e._s(s.roleName))])})),1),t("br"),t("el-button",{attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:e.update}},[e._v("保存")])],1)},a=[],n=(s("14d9"),s("d694")),r={data(){return{checkAll:!1,checkedCities:[],cities:[],isIndeterminate:!0,userId:"",saveBtnDisabled:!1}},created(){this.init()},methods:{init(){this.$route.params&&this.$route.params.id&&(this.userId=this.$route.params.id,this.getById(this.userId))},getById(e){n["a"].getAssign(e).then(e=>{var t=e.data.assignRoles;this.checkedCities=this.getJsonToList(t,"id"),this.cities=e.data.allRolesList})},getJsonToList(e,t){for(var s=JSON.parse(JSON.stringify(e)),i=[],a=0;a<s.length;a++)i.push(s[a][t]);return i},handleCheckAllChange(e){this.checkedCities=e?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange(e){let t=e.length;this.checkAll=t===this.cities.length,this.isIndeterminate=t>0&&t<this.cities.length},update(){this.saveBtnDisabled=!0;var e=this.checkedCities.join(",");console.log(e),n["a"].saveAssign(this.userId,e).then(e=>{e.success&&(this.$message({type:"success",message:"保存成功"}),this.$router.push({path:"/workplace/user/list"}))})}}},c=r,d=s("2877"),h=Object(d["a"])(c,i,a,!1,null,null,null);t["default"]=h.exports},d694:function(e,t,s){"use strict";var i=s("b775");const a="http://175.178.83.49:8222/admin/acl/user";t["a"]={getPageList(e,t,s){return Object(i["a"])({url:`${a}/${e}/${t}`,method:"get",params:s})},getById(e){return Object(i["a"])({url:`${a}/getId/${e}`,method:"get"})},save(e){return Object(i["a"])({url:a+"/save",method:"post",data:e})},updateById(e){return Object(i["a"])({url:a+"/update",method:"put",data:e})},getAssign(e){return Object(i["a"])({url:`${a}/toAssign/${e}`,method:"get"})},saveAssign(e,t){return Object(i["a"])({url:a+"/doAssign",method:"post",params:{userId:e,roleId:t}})},removeById(e){return Object(i["a"])({url:`${a}/remove/${e}`,method:"delete"})},removeRows(e){return Object(i["a"])({url:a+"/batchRemove",method:"delete",data:e})}}}}]);