(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b6d8cd8"],{"31e2":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.AddPictureVisible=!0}}},[t._v("添加")]),e("el-dialog",{attrs:{title:"添加",visible:t.AddPictureVisible,"show-close":!1,width:"65%"},on:{"update:visible":function(e){t.AddPictureVisible=e}}},[e("h2",{staticStyle:{"text-align":"center"}},[t._v("添加轮播图")]),e("el-form",{ref:"ban",staticStyle:{marginTop:"15px"},attrs:{"label-width":"120px"}},[e("el-form-item",{attrs:{label:"轮播图名称",prop:"title"}},[e("el-input",{attrs:{placeholder:"请填写轮播图名称"},model:{value:t.fileData.name,callback:function(e){t.$set(t.fileData,"name",e)},expression:"fileData.name"}})],1),e("el-form-item",{attrs:{label:"轮播图素材"}},[e("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-change":t.handleChange,data:t.fileData,"auto-upload":!1,action:"http://175.178.83.49:9103/lunbotuservice/lunbotu/lunBoTu/upload","list-type":"picture-card"}},[e("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),e("el-dialog",{attrs:{visible:t.dialogVisible,modal:!1,center:!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("img",{attrs:{src:t.dialogImageUrl,width:"85%",alt:""}})])],1),e("el-form-item",{attrs:{label:"轮播图说明"}},[e("el-input",{attrs:{placeholder:"填写轮播图说明"},model:{value:t.fileData.info,callback:function(e){t.$set(t.fileData,"info",e)},expression:"fileData.info"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.AddPictureVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.saveOrUpdate}},[t._v("确 定")])],1)],1),e("el-table",{staticStyle:{width:"100%",marginTop:"15px"},attrs:{data:t.list,border:!0}},[e("el-table-column",{attrs:{label:"序号",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s((t.p.current-1)*t.p.number+e.$index+1)+" ")]}}])}),e("el-table-column",{attrs:{prop:"name",label:"名称",align:"center",width:"300"}}),e("el-table-column",{attrs:{prop:"imgUrl",label:"压缩图",align:"center",width:"350"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{attrs:{src:t.row.imgUrl,width:"100",height:"80"}})]}}])}),e("el-table-column",{attrs:{prop:"info",label:"说明",width:"300",align:"center"}}),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.removeDataById(a.row,a.$index)}}})]}}])})],1),e("el-pagination",{attrs:{layout:"prev, pager, next,jumper",total:t.total,"current-page":t.p.current,"page-size":t.p.number},on:{"current-change":t.handleCurrentChange}})],1)},i=[],n=a("bc3a"),r=a.n(n),o={name:"PictureList",data(){return{list:[],total:0,p:{current:1,number:4},fileData:{name:"",info:""},dialogImageUrl:"",dialogVisible:!1,AddPictureVisible:!1,disabled:!1}},methods:{getPictureList(){r()({methods:"GET",url:"http://175.178.83.49:9103/lunbotuservice/lunbotu/lunbotu/selectByPage",params:{current:this.p.current,number:this.p.number}}).then(t=>{let e=t.data.t;this.list=e.lunbotus,this.total=e.totalNum}).catch(t=>{console.log("查找轮播图资源失败")})},saveOrUpdate(){this.$refs.upload.submit(),this.AddPictureVisible=!1,alert("添加成功"),this.p.current=1,this.getPictureList(),this.$refs.upload.clearFiles(),this.fileData={name:"",info:""},this.dialogImageUrl=""},removeDataById(t,e){this.$axios.post("http://175.178.83.49:9103/lunbotuservice/lunbotu/lunBoTu/delete",{id:t.id}).then(t=>{this.p.current=1,this.getPictureList(),alert("删除成功")}),this.getPictureList()},handleChange(t){this.fileData.imgName=t.name},handleRemove(t,e){console.log(t,e)},handlePictureCardPreview(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleCurrentChange(t){this.p.current=t,this.getPictureList()}},mounted(){this.getPictureList()}},s=o,u=(a("f7ea"),a("2877")),c=Object(u["a"])(s,l,i,!1,null,"5383870b",null);e["default"]=c.exports},c0b8:function(t,e,a){},f7ea:function(t,e,a){"use strict";a("c0b8")}}]);