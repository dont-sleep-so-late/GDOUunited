(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22042362"],{"2ecb":function(t,e,a){"use strict";a("91b3")},6048:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加")]),e("el-dialog",{attrs:{title:"添加",visible:t.dialogVisible,width:"65%","show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("h2",{staticStyle:{"text-align":"center"}},[t._v("添加文件")]),e("el-form",{staticStyle:{marginTop:"15px"},attrs:{"label-width":"120px"}},[e("el-form-item",{attrs:{label:"文件名称",prop:"title"}},[e("el-input",{attrs:{placeholder:"填写文件名"},model:{value:t.fileData.name,callback:function(e){t.$set(t.fileData,"name",e)},expression:"fileData.name"}})],1),e("el-form-item",{attrs:{label:"添加文件"}},[e("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"on-remove":t.handleRemove,"on-change":t.handleChange,data:t.fileData,"auto-upload":!1,drag:"",action:"http://175.178.83.49:9104/servicefile/filedownload/file/upload",multiple:""}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])])])],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveOrUpdate()}}},[t._v("确 定")])],1)],1),e("el-table",{staticStyle:{width:"100%",marginTop:"15px"},attrs:{data:t.list,border:!0}},[e("el-table-column",{attrs:{label:"序号",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s((t.p.current-1)*t.p.number+e.$index+1)+" ")]}}])}),e("el-table-column",{attrs:{prop:"title",label:"文件名称",width:"700",align:"center"}}),e("el-table-column",{attrs:{prop:"releaseTime",label:"添加时间",align:"center"}}),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.removeDataById(a.row,a.$index)}}},[t._v("删除文件")])]}}])})],1),e("el-pagination",{attrs:{layout:"prev, pager, next,jumper",total:t.total,"current-page":t.p.current,"page-size":t.p.number},on:{"current-change":t.handleCurrentChange}})],1)},i=[],n=a("bc3a"),o=a.n(n),s={name:"DownloadList",data(){return{list:[],total:0,p:{current:1,number:8},dialogVisible:!1,fileData:{name:"",info:""}}},methods:{getDownloadList(){o()({methods:"get",url:"http://175.178.83.49:9104/servicefile/filedownload/file/fileSelectByPage",params:{current:this.p.current,number:this.p.number}}).then(t=>{let e=t.data.t;this.list=e.files,this.total=e.totalNum}).catch(t=>{console.log("查找下载专区资源失败")})},saveOrUpdate(){this.$refs.upload.submit(),this.dialogVisible=!1,alert("添加成功"),this.p.current=1,this.getDownloadList(),this.$refs.upload.clearFiles(),this.fileData={name:"",info:""}},removeDataById(t,e){this.$axios.post("http://175.178.83.49:9104/servicefile/filedownload/file/deleteById",{id:t.id}).then(t=>{alert("删除成功"),this.p.current=1,this.getDownloadList()})},handleChange(t){this.fileData.imgName=t.name,console.log(this.fileData)},handleRemove(t,e){console.log(t,e)},handleCurrentChange(t){this.p.current=t,this.getDownloadList()}},mounted(){this.getDownloadList()}},r=s,c=(a("2ecb"),a("2877")),d=Object(c["a"])(r,l,i,!1,null,"42759483",null);e["default"]=d.exports},"91b3":function(t,e,a){}}]);