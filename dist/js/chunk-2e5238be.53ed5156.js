(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e5238be"],{"36fc":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"button-row"},[e("el-button",{on:{click:function(e){return t.updatedata()}}},[t._v("修改")]),e("el-button",{attrs:{type:"danger"},on:{click:t.removeSome}},[t._v("删除")])],1),e("div",{staticClass:"search-row"},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"成员名",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchSome()}},model:{value:t.searchMsg.name,callback:function(e){t.$set(t.searchMsg,"name",e)},expression:"searchMsg.name"}})],1),e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.searchSome()}}},[t._v("查询")])],1)],1),e("div",{staticClass:"table-row"},[e("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"row-key":t.getRowKey,data:t.list,"tooltip-effect":"dark",border:!0},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55",align:"center","reserve-selection":!0}}),e("el-table-column",{attrs:{type:"index",index:t.indexAdd,label:"序号",width:"160"}}),e("el-table-column",{attrs:{prop:"department",label:"学院单位",width:"180"}}),e("el-table-column",{attrs:{prop:"party",label:"所属党派",width:"160"}}),e("el-table-column",{attrs:{prop:"name",label:"主要负责人",width:"180"}}),e("el-table-column",{attrs:{prop:"phone",label:"联系方式",width:"200"}}),e("el-table-column",{attrs:{prop:"nativePlace",label:"地址",width:"width"}}),e("el-table-column",{attrs:{prop:"o_identity",label:"所属组织身份",width:"width"}}),e("el-table-column",{attrs:{prop:"joinPartyDate",label:"参加党派时间",width:"width"}})],1),e("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":t.page,"page-sizes":[3,5,8],"page-size":t.limit,layout:"  prev, pager, next, jumper,->,sizes,total",total:this.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1),e("el-dialog",{attrs:{title:"修改信息",visible:t.dialogFormVisible,width:"80%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{staticStyle:{width:"100%"},attrs:{inline:!0},model:{value:t.modifyForm,callback:function(e){t.modifyForm=e},expression:"modifyForm"}},[e("el-form-item",{attrs:{label:"党派类型:","label-width":"120px"}},[e("el-select",{attrs:{autocomplete:"off",placeholder:"请选择党派类型"},model:{value:t.modifyForm.partyId,callback:function(e){t.$set(t.modifyForm,"partyId",e)},expression:"modifyForm.partyId"}},[e("el-option",{attrs:{value:"6948211641926422539",label:"民革"}}),e("el-option",{attrs:{value:"6948211641926422545",label:"九三"}}),e("el-option",{attrs:{value:"6948211641926422543",label:"农工"}}),e("el-option",{attrs:{value:"6948211641926422541",label:"民建"}}),e("el-option",{attrs:{value:"6948211641926422540",label:"民盟"}}),e("el-option",{attrs:{value:"6948211641926422542",label:"民进"}}),e("el-option",{attrs:{value:"6948211641926422544",label:"致公"}})],1)],1),e("el-form-item",{attrs:{label:"学院部门:","label-width":"120px"}},[e("el-select",{attrs:{autocomplete:"off",placeholder:"请选择学院部门"},model:{value:t.modifyForm.departmentId,callback:function(e){t.$set(t.modifyForm,"departmentId",e)},expression:"modifyForm.departmentId"}},[e("el-option",{attrs:{value:"6948211641926422547",label:"水产学院党委"}}),e("el-option",{attrs:{value:"6948211641926422548",label:"食品科技学院党委"}}),e("el-option",{attrs:{value:"6948211641926422549",label:"海洋与气象学院党委"}}),e("el-option",{attrs:{value:"6948211641926422550",label:"滨海农业学院党委"}}),e("el-option",{attrs:{value:"6948211641926422551",label:"机械工程学院党委"}}),e("el-option",{attrs:{value:"6948211641926422552",label:"海洋工程与能源学院党委"}}),e("el-option",{attrs:{value:"6948211641926422553",label:"马克思主义学院党委"}}),e("el-option",{attrs:{value:"6948211641926422554",label:"经济学院党委"}}),e("el-option",{attrs:{value:"6948211641926422555",label:"管理学院党委"}}),e("el-option",{attrs:{value:"6948211641926422556",label:"数学与计算机学院党委"}}),e("el-option",{attrs:{value:"6948211641926422557",label:"电子与信息工程学院党委"}}),e("el-option",{attrs:{value:"6948211641926422558",label:"化学与环境学院党委"}}),e("el-option",{attrs:{value:"6948211641926422559",label:"船舶与海运学院党委"}}),e("el-option",{attrs:{value:"6948231731526897664",label:"文学与新闻传播学院党委"}}),e("el-option",{attrs:{value:"6948231731531091968",label:"法政学院党委"}}),e("el-option",{attrs:{value:"6948231731531091969",label:"外国语学院党委"}}),e("el-option",{attrs:{value:"6948231731531091970",label:"中歌艺术学院党委"}}),e("el-option",{attrs:{value:"6948231731531091971",label:"体育与休闲学院党委"}}),e("el-option",{attrs:{value:"6948231731531091972",label:"机关党委"}}),e("el-option",{attrs:{value:"6948231731531091973",label:"离退休干部党委"}}),e("el-option",{attrs:{value:"6948231731531091974",label:"教辅单位党委"}}),e("el-option",{attrs:{value:"6948231731531091975",label:"后勤与产业党委"}}),e("el-option",{attrs:{value:"6948231731531091976",label:"阳江校区党委"}}),e("el-option",{attrs:{value:"6948308286462627903",label:"（未说明）"}})],1)],1),e("el-form-item",{attrs:{label:"组织身份:","label-width":"120px"}},[e("el-select",{attrs:{autocomplete:"off",placeholder:"请选择党派类型"},model:{value:t.modifyForm.organizationId,callback:function(e){t.$set(t.modifyForm,"organizationId",e)},expression:"modifyForm.organizationId"}},[e("el-option",{attrs:{value:"6948307500875666111",label:"管理员"}}),e("el-option",{attrs:{value:"6948307500875666112",label:"普通成员"}})],1)],1),e("el-form-item",{attrs:{label:"主要负责人:","label-width":"120px"}},[e("el-input",{attrs:{autocomplete:"off",placeholder:"请填入姓名"},model:{value:t.modifyForm.name,callback:function(e){t.$set(t.modifyForm,"name",e)},expression:"modifyForm.name"}})],1),e("el-form-item",{attrs:{label:"联系方式:","label-width":"120px"}},[e("el-input",{attrs:{autocomplete:"off",placeholder:"请填写手机号"},model:{value:t.modifyForm.phone,callback:function(e){t.$set(t.modifyForm,"phone",e)},expression:"modifyForm.phone"}})],1),e("el-form-item",{attrs:{label:"地址:","label-width":"120px"}},[e("el-input",{attrs:{autocomplete:"off",placeholder:"请填写常住地址"},model:{value:t.modifyForm.nativePlace,callback:function(e){t.$set(t.modifyForm,"nativePlace",e)},expression:"modifyForm.nativePlace"}})],1),e("el-form-item",{attrs:{label:"参加党派时间:","label-width":"120px"}},[e("el-date-picker",{attrs:{type:"month",placeholder:"选择年月","value-format":"yyyy-MM"},model:{value:t.modifyForm.joinPartyDate,callback:function(e){t.$set(t.modifyForm,"joinPartyDate",e)},expression:"modifyForm.joinPartyDate"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.dialogVisible()}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addData()}}},[t._v("确 定")])],1)],1)],1)},o=[],i=(a("14d9"),a("bc3a")),n=a.n(i),r=(a("852e"),{name:"WaiGuoYv",data(){return{multipleSelection:[],page:1,limit:5,total:0,searchMsg:{name:""},list:[],removeMsg:[],dialogFormVisible:!1,modifyForm:{partyId:"",name:"",phone:"",nativePlace:"",joinPartyDate:"",departmentId:"",organizationId:""}}},methods:{indexAdd(t){return t+1+(this.page-1)*this.limit},getRowKey(t){return t.id},async getPageList(){const{page:t,limit:e}=this;n.a.get(`http://175.178.83.49:9109/Organization/RenWu/National/${t}/${e}`).then(t=>{this.list=t.data.data.info,this.total=t.data.data.total})},handleCurrentChange(t){this.page=t,this.getPageList()},handleSizeChange:function(t){this.limit=t,this.page=1,this.getPageList()},updatedata(){0===this.multipleSelection.length?alert("请勾选修改的内容"):1===this.multipleSelection.length?(this.dialogFormVisible=!0,this.modifyForm={departmentid:"",partyid:"",organizationId:"",name:this.multipleSelection[0].name,phone:this.multipleSelection[0].phone,nativePlace:this.multipleSelection[0].nativePlace,joinPartyDate:this.multipleSelection[0].joinPartyDate}):this.multipleSelection.length>1&&alert("至多修改一为成员信息")},addData(){if(this.modifyForm.partyId&&this.modifyForm.name.trim()&&this.modifyForm.phone&&this.modifyForm.nativePlace.trim()&&this.modifyForm.joinPartyDate&&this.modifyForm.departmentId&&this.modifyForm.organizationId){var t=this.multipleSelection[0].id,e=this.modifyForm.name,a=this.modifyForm.phone,l=this.modifyForm.nativePlace,o=this.modifyForm.joinPartyDate,i=this.modifyForm.departmentId,r=this.modifyForm.organizationId,s=this.modifyForm.partyId;n.a.post("http://175.178.83.49:9109/Organization/RenWu/update",{id:t,name:e,phone:a,nativePlace:l,joinPartyDate:o,departmentId:i,organizationId:r,partyId:s}).then(t=>{this.getPageList(),this.$message({message:"用户信息修改成功！！！",type:"success"})}),this.dialogVisible()}else alert("请输入完整信息")},dialogVisible(){this.dialogFormVisible=!1,this.modifyForm={partyid:"",name:"",phone:"",native_place:"",join_party_date:"",departmentid:""}},searchSome(){const{page:t,limit:e}=this;n.a.get(`http://175.178.83.49:9109/Organization/RenWu/National/${this.searchMsg.name}/${t}/${e}`).then(t=>{console.log(t),this.total=t.data.data.total,this.list=t.data.data.info})},handleSelectionChange(t){this.multipleSelection=t,console.log(this.multipleSelection)},removeSome(){for(let t=0;t<this.multipleSelection.length;t++)this.removeMsg.push(this.multipleSelection[t].id),n.a.get("http://175.178.83.49:9109/Organization/RenWu/delete/"+this.removeMsg[t]).then(t=>{this.getPageList()})}},mounted(){this.getPageList()}}),s=r,m=(a("51b7"),a("2877")),d=Object(m["a"])(s,l,o,!1,null,null,null);e["default"]=d.exports},"51b7":function(t,e,a){"use strict";a("5fd9")},"5fd9":function(t,e,a){}}]);