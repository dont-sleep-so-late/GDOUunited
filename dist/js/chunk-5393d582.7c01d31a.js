(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5393d582"],{a44b:function(e,t,a){"use strict";a("badb")},b21d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[e._v(" 成员列表 "),t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchList,rules:e.sendData.searchListRules}},[t("el-form-item",[t("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"成员名"},model:{value:e.searchList.name,callback:function(t){e.$set(e.searchList,"name",t)},expression:"searchList.name"}})],1),t("el-form-item",[t("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"党派"},model:{value:e.searchList.party,callback:function(t){e.$set(e.searchList,"party",t)},expression:"searchList.party"}},e._l(e.partyDataAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",[t("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"非民主党派"},model:{value:e.searchList.otherParty,callback:function(t){e.$set(e.searchList,"otherParty",t)},expression:"searchList.otherParty"}},e._l(e.otherPartyDataAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",[t("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"学院"},model:{value:e.searchList.department,callback:function(t){e.$set(e.searchList,"department",t)},expression:"searchList.department"}},e._l(e.departmentDataAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.toQuery}},[e._v("查询")]),t("el-button",{attrs:{type:"default"},on:{click:e.showDetail}},[e._v("查询所有")])],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,border:"",fit:"","highlight-current-row":"",stripe:"",height:"500"}},[t("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"#"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"150",align:"center"}}),t("el-table-column",{attrs:{prop:"department",label:"学院/部门",width:"200",align:"center"}}),t("el-table-column",{attrs:{label:"职务",align:"center",prop:"currentPosition"}}),t("el-table-column",{attrs:{prop:"party",label:"党派",align:"center"}}),t("el-table-column",{attrs:{prop:"phone",label:"手机号码",width:"200",align:"center"}}),t("el-table-column",{attrs:{prop:"title",label:"职称",width:"350",align:"center"}}),t("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.showEditDialog(a.row)}}},[e._v(" 修改 ")]),t("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.removeDataById(a.row,a.$index)}}},[e._v("删除")])]}}])})],1),e.isShow?t("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.pageChange}}):e._e(),t("el-dialog",{attrs:{title:"修改用户信息",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClosed}},[t("el-form",{ref:"editFormRef",attrs:{model:e.editForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"头像",prop:"imgUrl"}},[t("div",{staticClass:"user-header"},[t("input",{staticClass:"header-upload-btn user-header-com",attrs:{type:"file",accept:"image/*"},on:{change:e.onchangeImgFun}}),t("img",{staticClass:"user-header-com",attrs:{alt:"",src:e.editForm.imgUrl}})])]),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入成员姓名"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),t("el-form-item",{attrs:{label:"性别",prop:"sex"}},[t("el-input",{attrs:{placeholder:"请输入成员性别"},model:{value:e.editForm.sex,callback:function(t){e.$set(e.editForm,"sex",t)},expression:"editForm.sex"}})],1),t("el-form-item",{attrs:{label:"民族",prop:"nationId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.nationId,callback:function(t){e.$set(e.editForm,"nationId",t)},expression:"editForm.nationId"}},e._l(e.nationDataAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"出生日期",prop:"birth"}},[t("el-date-picker",{attrs:{type:"month",format:"yyyy 年 MM 月","value-format":"yyyy-MM",placeholder:"请选择年-月"},model:{value:e.editForm.birth,callback:function(t){e.$set(e.editForm,"birth",t)},expression:"editForm.birth"}})],1),t("el-form-item",{attrs:{label:"政治面貌",prop:"politicsId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.politicsId,callback:function(t){e.$set(e.editForm,"politicsId",t)},expression:"editForm.politicsId"}},e._l(e.politicalPositionAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"加入时间",prop:"joinPartyDate"}},[t("el-date-picker",{attrs:{type:"month",format:"yyyy 年 MM 月","value-format":"yyyy-MM",placeholder:"请选择年-月"},model:{value:e.editForm.joinPartyDate,callback:function(t){e.$set(e.editForm,"joinPartyDate",t)},expression:"editForm.joinPartyDate"}})],1),t("el-form-item",{attrs:{label:"学位",prop:"bachelorId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.bachelorId,callback:function(t){e.$set(e.editForm,"bachelorId",t)},expression:"editForm.bachelorId"}},e._l(e.bachelorAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"全日制学历",prop:"fulltimedegreeId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.fulltimedegreeId,callback:function(t){e.$set(e.editForm,"fulltimedegreeId",t)},expression:"editForm.fulltimedegreeId"}},e._l(e.fulltimedegreeDataAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"职称",prop:"titleId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.titleId,callback:function(t){e.$set(e.editForm,"titleId",t)},expression:"editForm.titleId"}},e._l(e.titleDataAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"学院/部门",prop:"departmentId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.departmentId,callback:function(t){e.$set(e.editForm,"departmentId",t)},expression:"editForm.departmentId"}},e._l(e.departmentDataAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"教职工类别",prop:"currentPositionData"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.currentPositionData,callback:function(t){e.$set(e.editForm,"currentPositionData",t)},expression:"editForm.currentPositionData"}},e._l(e.currentPositionDataAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"校区",prop:"campusId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.campusId,callback:function(t){e.$set(e.editForm,"campusId",t)},expression:"editForm.campusId"}},e._l(e.campusAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"民主党派",prop:"partyId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.partyId,callback:function(t){e.$set(e.editForm,"partyId",t)},expression:"editForm.partyId"}},e._l(e.partyDataAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"非民主党派",prop:"otherPartyId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.otherPartyId,callback:function(t){e.$set(e.editForm,"otherPartyId",t)},expression:"editForm.otherPartyId"}},e._l(e.otherPartyDataAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"政治安排",prop:"politicalPositionId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.politicalPositionId,callback:function(t){e.$set(e.editForm,"politicalPositionId",t)},expression:"editForm.politicalPositionId"}},e._l(e.politicalPositionAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"区域",prop:"areaId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.areaId,callback:function(t){e.$set(e.editForm,"areaId",t)},expression:"editForm.areaId"}},e._l(e.areaDataAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"组织身份",prop:"organizationId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.organizationId,callback:function(t){e.$set(e.editForm,"organizationId",t)},expression:"editForm.organizationId"}},e._l(e.identityAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[t("el-input",{attrs:{placeholder:"请输入成员手机号码"},model:{value:e.editForm.phone,callback:function(t){e.$set(e.editForm,"phone",t)},expression:"editForm.phone"}})],1),t("el-form-item",{attrs:{label:"任职轴",prop:"positionAxis"}},[t("el-input",{staticStyle:{width:"50%"},attrs:{type:"textarea",clearable:"",placeholder:"请输入成员任职轴"},model:{value:e.editForm.positionAxis,callback:function(t){e.$set(e.editForm,"positionAxis",t)},expression:"editForm.positionAxis"}})],1),t("el-form-item",{attrs:{label:"活动轴",prop:"activeAxis"}},[t("el-input",{staticStyle:{width:"50%"},attrs:{type:"textarea",clearable:"",placeholder:"请输入成员活动轴"},model:{value:e.editForm.activeAxis,callback:function(t){e.$set(e.editForm,"activeAxis",t)},expression:"editForm.activeAxis"}})],1),t("el-form-item",{attrs:{label:"获奖轴",prop:"awardAxis"}},[t("el-input",{staticStyle:{width:"50%"},attrs:{type:"textarea",clearable:"",placeholder:"请输入成员获奖轴"},model:{value:e.editForm.awardAxis,callback:function(t){e.$set(e.editForm,"awardAxis",t)},expression:"editForm.awardAxis"}})],1),t("el-form-item",{attrs:{label:"籍贯",prop:"nativePlace"}},[t("el-input",{attrs:{placeholder:"请输入成员籍贯"},model:{value:e.editForm.nativePlace,callback:function(t){e.$set(e.editForm,"nativePlace",t)},expression:"editForm.nativePlace"}})],1),t("el-form-item",{attrs:{label:"职务",prop:"job"}},[t("el-input",{attrs:{placeholder:"请输入成员职务"},model:{value:e.editForm.job,callback:function(t){e.$set(e.editForm,"job",t)},expression:"editForm.job"}})],1),t("el-form-item",{attrs:{label:"职位级别",prop:"jobLevelId"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.jobLevelId,callback:function(t){e.$set(e.editForm,"jobLevelId",t)},expression:"editForm.jobLevelId"}},e._l(e.jobLevelAxis,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.saveRoleInfo}},[e._v("确 定")])],1)],1)],1)},l=[],r=(a("d9e2"),a("14d9"),a("85fe")),o={getTeacherListPage(e,t,a){return Object(r["a"])({url:`/eduservice/edu-teacher/pageTeacherCondition/${e}/${t}`,method:"post",data:a})},deleteTeacherId(e){return Object(r["a"])({url:"/eduservice/edu-teacher/"+e,method:"delete"})},addTeacher(e){return Object(r["a"])({url:"/eduservice/edu-teacher/addTeacher",method:"post",data:e})},getTeacherInfo(e){return Object(r["a"])({url:"/eduservice/edu-teacher/getTeacher/"+e,method:"get"})},updateTeacher(e){return Object(r["a"])({url:"/eduservice/edu-teacher/updateTeacher",method:"post",data:e})}},s={data(){var e=(e,t,a)=>{""!==this.searchList.party&&a(new Error("不能同时输入民主党派和非民主党派")),a()};return{file:"",imgStr:null,listLoading:!0,isShow:!0,list:null,total:0,listQuery:{current:0,limit:9999,name:"",party:"",department:"",title:""},editDialogVisible:!1,editForm:[],searchList:{file:"",name:"",party:"",otherParty:"",department:""},abroadTimeAxis:[],abroadTimeDataAxis:[],abroadTime:"",abroadTimeData:[],abroadTimeDataAxis:[],abroadTime:"",departmentData:[],departmentDataAxis:[],department:"",partyData:[],partyDataAxis:[],party:"",politicalArrangement:"",politicalArrangementData:[],politicalArrangementAxis:[],otherPartyData:[],otherPartyDataAxis:[],otherParty:"",nationData:[],nationDataAxis:[],fulltimedegreeData:[],fulltimedegreeDataAxis:[],bachelorAxis:[],bachelor:[],areaData:[],areaDataAxis:[],religionData:[],religionDataAxis:[],currentPositionData:[],currentPositionDataAxis:[],titleData:[],titleDataAxis:[],politicalPosition:[],politicalPositionAxis:[],jobLevel:[],jobLevelAxis:[],identity:[],identityAxis:[],committee:[],committeeAxis:[],campus:[],campusAxis:[],aboardList:[{value:0,label:"留学"},{value:1,label:"未留学"}],sendData:{positionAxis:"",activeAxis:"",awardAxis:"",name:"",sex:"",departmentId:"",currentPositionId:"",religionId:"",currentJob:"",allParty:"",nationId:"",birth:"",nativePlace:"",fulltimedegreeId:"",titleId:"",startWorkingDate:"",stateOfRetire:"",joinPartyDate:"",phone:"",email:"",isabroad:"",remark:"",currentZhiTime:"",currentJiTime:"",idCard:"",partyId:"",otherPartyId:"",position:"",areaId:"",politicalPositionId:"",jobLevelId:"",organizationId:"",committeeId:"",campusId:"",file:"",searchListRules:{pass:[{validator:e,trigger:"blur"}]}}}},created(){this.$axios.get("http://175.178.83.49:9106/service/renwuku/queryallpeople").then(e=>{this.total=e.data.t.length,this.list=e.data.t.slice(0,20),this.listLoading=!1}),this.getDepartment(),console.log(this.editForm),console.log(11)},methods:{onchangeImgFun(e){console.log(e.target.files[0]),this.editForm.imgUrl=window.URL.createObjectURL(e.target.files[0]),console.log(window.URL.createObjectURL(e.target.files[0])),this.file=e.target.files[0],console.log(this.file),console.log(this.editForm.imgUrl)},async getDepartment(){let{data:e}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryBachelor");e.t.map(e=>{this.bachelor=JSON.parse(JSON.stringify(e).replace("bachelorId","value").replace("bachelor","label")),this.bachelorAxis.push(this.bachelor)});let{data:t}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAllJobLevel");t.t.map(e=>{this.jobLevel=JSON.parse(JSON.stringify(e).replace("jobLevelId","value").replace("jobLevel","label")),this.jobLevelAxis.push(this.jobLevel)});let{data:a}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAllDept");a.t.map(e=>{this.departmentData=JSON.parse(JSON.stringify(e).replace("departmentId","value").replace("department","label")),this.departmentDataAxis.push(this.departmentData)});let{data:i}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAllPartyOthers");i.t.map(e=>{this.otherPartyData=JSON.parse(JSON.stringify(e).replace("pid","value").replace("otherParty","label")),this.otherPartyDataAxis.push(this.otherPartyData)});let{data:l}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryPolitics");l.t.map(e=>{this.politicalPosition=JSON.parse(JSON.stringify(e).replace("politicsId","value").replace("politics","label")),this.politicalPositionAxis.push(this.politicalPosition)});let{data:r}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAllNations");r.t.map(e=>{this.nationData=JSON.parse(JSON.stringify(e).replace("nationId","value").replace("nation","label")),this.nationDataAxis.push(this.nationData)});let{data:o}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAllCampuses");o.t.map(e=>{this.campus=JSON.parse(JSON.stringify(e).replace("campusId","value").replace("campus","label")),this.campusAxis.push(this.campus)});let{data:s}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAllOrganizationIdentity");s.t.map(e=>{this.identity=JSON.parse(JSON.stringify(e).replace("oidentity","label").replace("oid","value")),this.identityAxis.push(this.identity)});let{data:n}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAllFullTimeDegree");n.t.map(e=>{this.fulltimedegreeData=JSON.parse(JSON.stringify(e).replace("fulltimedegreeId","value").replace("fulltimedegree","label")),this.fulltimedegreeDataAxis.push(this.fulltimedegreeData)});let{data:c}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAllTitle");c.t.map(e=>{this.titleData=JSON.parse(JSON.stringify(e).replace("titleId","value").replace("title","label")),this.titleDataAxis.push(this.titleData)});let{data:d}=await this.$axios.post("http://175.178.83.49:9106/service/party/queryAllParty");d.t.map(e=>{this.partyData=JSON.parse(JSON.stringify(e).replace("partyId","value").replace("party","label")),this.partyDataAxis.push(this.partyData)});let{data:p}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAllPolitical");p.t.map(e=>{this.politicalArrangement=JSON.parse(JSON.stringify(e).replace("politicalPositionId","value").replace("position","label")),this.politicalArrangementAxis.push(this.politicalArrangement)});let{data:u}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAllAreas");u.t.map(e=>{this.areaData=JSON.parse(JSON.stringify(e).replace("areaId","value").replace("area","label")),this.areaDataAxis.push(this.areaData)});let{data:m}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAllCurrentPosition");m.t.map(e=>{this.currentPositionData=JSON.parse(JSON.stringify(e).replace("currentPositionId","value").replace("currentPosition","label")),this.currentPositionDataAxis.push(this.currentPositionData)});let{data:h}=await this.$axios.post("http://175.178.83.49:9106/service/renwuku/queryAbroadTime");h.t.map(e=>{this.abroadTime=JSON.parse(JSON.stringify(e).replace("abroadTimeId","value").replace("time","label")),this.abroadTimeAxis.push(this.abroadTime)})},getList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,o.getTeacherListPage(this.page,this.limit,this.teachQuery).then(e=>{this.list=e.data.rows,console.log(this.list),this.total=e.data.total,console.log(this.total),this.listLoading=!1}).catch(e=>{console.log(e)})},resetData(){this.teachQuery={},this.getList()},removeDataById(e,t){this.$confirm("此操作将永久删除讲师记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.post("http://175.178.83.49:9106/service/renwuku/deletePeople/"+e.id).then(e=>{console.log(e),this.list.splice(t,1),alert("删除成功！")})}).catch(()=>{this.$message.info("已取消删除")})},indexMethod(e){return e+1},pageChange(e){this.$axios.get("http://175.178.83.49:9106/service/renwuku/queryallpeople").then(t=>{this.list=t.data.t.slice(20*(e-1),20*e),this.indexMethod=function(t){return t+1+20*(e-1)}})},toQuery(){this.$axios.get(`http://175.178.83.49:9106/service/renwuku/queryPeopleByCondition?name=${this.searchList.name}&partyId=${this.searchList.party}&departmentId=${this.searchList.department}&otherPartyId=${this.searchList.otherParty}`).then(e=>{this.list=e.data.t,this.isShow=!1})},showDetail(){this.$axios.get("http://175.178.83.49:9106/service/renwuku/queryallpeople").then(e=>{this.total=e.data.t.length,this.list=e.data.t.slice(0,20),this.isShow=!0})},async showEditDialog(e){this.editForm=e,this.editDialogVisible=!0,console.log(this.editForm)},editDialogClosed(){this.$refs.editFormRef.resetFields()},async saveRoleInfo(){this.$axios.post("http://175.178.83.49:9106/service/renwuku/updatePeople",this.editForm,{headers:{"content-type":"multipart/form-data"}}).then(e=>{alert("修改成功！"),console.log(e),this.editDialogVisible=!1}),this.editDialogVisible=!1}}},n=s,c=(a("a44b"),a("2877")),d=Object(c["a"])(n,i,l,!1,null,"7928cb77",null);t["default"]=d.exports},badb:function(e,t,a){}}]);