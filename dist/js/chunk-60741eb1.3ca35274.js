(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60741eb1"],{"083a":function(t,a,e){"use strict";var i=e("0d51"),s=TypeError;t.exports=function(t,a){if(!delete t[a])throw s("Cannot delete property "+i(a)+" of "+i(t))}},"3c65":function(t,a,e){"use strict";var i=e("23e7"),s=e("7b0b"),r=e("07fa"),h=e("083a"),o=e("3511"),n=1!==[].unshift(0),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:n||c},{unshift:function(t){var a=s(this),e=r(a),i=arguments.length;if(i){o(e+i);var n=e;while(n--){var c=n+i;n in a?a[c]=a[n]:h(a,c)}for(var l=0;l<i;l++)a[l]=arguments[l]}return a.length=e+i}})},"562a":function(t,a,e){"use strict";e("6ca2")},"6c33":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"mainbox content"},[a("ul",{staticClass:"clearfix nav1"},[a("li",{staticStyle:{width:"18%"}},[a("div",{staticClass:"box"},[a("div",{staticClass:"tit"},[t._v("成员数量(总数:"+t._s(t.numberCount)+")")]),a("div",{staticClass:"boxnav",staticStyle:{height:"170px"}},[a("div",{ref:"number",staticStyle:{height:"170px"}})])]),a("div",{staticClass:"box"},[a("div",{staticClass:"tit"},[t._v("年龄分布")]),a("div",{staticClass:"boxnav",staticStyle:{height:"170px"}},[a("div",{ref:"age",staticStyle:{height:"170px"},attrs:{id:"age"}})])]),a("div",{staticClass:"box"},[a("div",{staticClass:"tit"},[t._v("学历分布")]),a("div",{staticClass:"boxnav",staticStyle:{height:"170px"}},[a("div",{ref:"edu",staticStyle:{height:"170px"}})])])]),a("li",{staticStyle:{width:"18%"}},[a("div",{staticClass:"box"},[a("div",{staticClass:"tit"},[t._v("新发展成员数量(总数:"+t._s(t.newNumCount)+")")]),a("div",{staticClass:"boxnav",staticStyle:{height:"170px"}},[a("div",{ref:"newMember",staticStyle:{height:"170px",width:"100%"}})])]),a("div",{staticClass:"box"},[a("div",{staticClass:"tit"},[t._v("性别分布")]),a("div",{staticClass:"boxnav",staticStyle:{height:"170px"}},[a("div",{ref:"sex",staticStyle:{height:"170px",width:"100%"}})])]),a("div",{staticClass:"box"},[a("div",{staticClass:"tit"},[t._v("职称分布")]),a("div",{staticClass:"boxnav",staticStyle:{height:"170px"}},[a("div",{ref:"job",staticStyle:{height:"170px",width:"100%"}})])])]),a("li",{staticStyle:{width:"42%"}},[a("div",{staticClass:"box"},[a("div",{staticClass:"boxnav mapc",staticStyle:{height:"648px",position:"relative"}},[a("div",{staticClass:"map",attrs:{id:"map"}},[a("SchoolMap")],1)])])]),a("li",{staticStyle:{width:"22%"}},[a("div",{staticClass:"box"},[a("div",{staticClass:"tit"},[t._v("各学院人员数量")]),a("div",{staticClass:"boxnav",staticStyle:{height:"285px"}},[a("div",{ref:"merbers",staticClass:"boxnav",staticStyle:{height:"285px"}})])]),a("div",{staticClass:"box"},[a("div",{staticClass:"tit"},[t._v("参政议政")]),a("div",{staticClass:"boxnav",staticStyle:{height:"275px"}},[a("div",{ref:"politics",staticClass:"boxnav",staticStyle:{height:"275px"}})])])])])])},s=[],r=(e("14d9"),e("3c65"),e("bc3a")),h=e.n(r);async function o(){let{data:t}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/MemberShip"),{data:a}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/queryAge"),{data:e}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/queryDegree"),{data:i}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/IncreaseCount"),{data:s}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/querySex"),{data:r}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/queryTitle"),{data:o}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/politics"),{data:n}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/DepartmentCount");return{res1:t,res2:a,res3:e,res4:i,res5:s,res6:r,res7:o,res8:n}}async function n(t){let{data:a}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/MemberShip/"+t),{data:e}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/queryAge/"+t),{data:i}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/queryDegree/"+t),{data:s}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/IncreaseCount/"+t),{data:r}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/querySex/"+t),{data:o}=await h.a.post("http://175.178.83.49:9107/service/servicedecisioncenter/MinZuDangPai/queryTitle/"+t);return{res1:a,res2:e,res3:i,res4:s,res5:r,res6:o}}var c=e("318d"),l={name:"Democrate",data(){return{numberEchartInstance:null,numberEchartData:[],numberCount:0,numberFlag:!0,ageEchartInstance:null,ageEchartData:[],ageCount:0,ageFlag:!0,eduEchartInstance:null,eduEchartData:[],arr:[],eduFlag:!0,eduCount:0,sexEchartInstance:null,sexEchartData:[],sexCount:0,sexFlag:!0,newNumEchartInstance:null,newNumEchartData:[],newNumCount:0,newNumFlag:!0,jobEcharInstance:null,jobEcharData:[],jobCount:0,jobFlag:!0,merbersEchartInstance:null,merbersEchartData:[],currentMerbersPage:1,totoalMerbersPage:0,timeMerbersID:null,merbersCount:0,politicsEchartInstance:null,politicsEchartData:[],polCount:0}},watch:{numberEchartData:{deep:!0,handler(t,a){this.initNumberChar()}},ageEchartData:{deep:!0,handler(t,a){this.initAgeChar()}},eduEchartData:{deep:!0,handler(t,a){this.initEduChar()}},sexEchartData:{deep:!0,handler(t,a){this.initSexChar()}},newNumEchartData:{deep:!0,handler(t,a){this.initNewNumChar()}},jobEcharData:{deep:!0,handler(t,a){this.initJobChar()}},politicsEchartData:{deep:!0,handler(t,a){this.initPolChat()}},merbersEchartData:{deep:!0,handler(t,a){this.initMerbersChar()}}},methods:{initNumberChar(){this.numberEchartInstance=this.$echarts.init(this.$refs.number)},getNumberData(){this.numberFlag&&(this.numberEchartData.memberShip.forEach(t=>{t=parseInt(t),this.numberCount+=t}),this.numberFlag=!1),this.updataNumberChar()},updataNumberChar(){const t={textStyle:{color:"white"},tooltip:{trigger:"axis"},xAxis:{type:"category",axisTick:{show:!1},axisLabel:{interval:0},data:this.numberEchartData.parties},yAxis:{type:"value",splitLine:{show:!1},axisLabel:{show:!1}},series:{type:"bar",data:this.numberEchartData.memberShip,itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#eecbf0"},{offset:.6,color:"#d3d8f6"},{offset:1,color:"#bce6fc"}]),barBorderRadius:[5,5,0,0]}}},grid:{x:-6,y:40,x2:7,y2:40},label:{show:!0,position:"top",color:"white"}};this.numberEchartInstance.setOption(t)},initAgeChar(){this.ageEchartInstance=this.$echarts.init(this.$refs.age)},getAgeData(){this.ageFlag&&(Object.values(this.ageEchartData).forEach(t=>{this.ageCount+=t}),this.ageFlag=!1),this.updataAgeChar()},updataAgeChar(){const t={textStyle:{color:"white"},tooltip:{trigger:"axis"},xAxis:{type:"value",splitLine:{show:!1},axisLabel:{show:!1}},yAxis:{type:"category",data:["35岁及以下","35-45岁","45-50岁","55岁及以上"],axisLabel:{color:"#fff"},axisTick:{show:!1},axisLine:{show:!1},z:10},series:{type:"bar",data:[this.ageEchartData["age<=35"],this.ageEchartData["35<=age<=45"],this.ageEchartData["45<=age<=50"],this.ageEchartData["age>55"]],right:70,itemStyle:{barWidth:"60%",normal:{color:new this.$echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#3d85c6"},{offset:.5,color:"#83cbe6"},{offset:1,color:"#8ddae2"}]),barBorderRadius:[0,5,5,0]}}},label:{show:!0,position:"right",color:"white"},grid:{show:!1,x:70,y:10,x2:20,y2:20},color:"#2378f7"};this.ageEchartInstance.setOption(t)},initEduChar(){this.eduEchartInstance=this.$echarts.init(this.$refs.edu)},getEduData(){this.arr=this.eduEchartData,this.eduEchartData=[],this.arr.map(t=>{let a=JSON.parse(JSON.stringify(t).replace("degree","name").replace("total","value"));this.eduEchartData.push(a)}),this.eduFlag&&(this.eduEchartData.forEach(t=>{this.eduCount+=t.value}),this.eduFlag=!1),this.updataEduChar()},updataEduChar(){const t={tooltip:{trriger:"item"},series:{type:"pie",data:this.eduEchartData,radius:["60%","70%"],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}}},center:["70%","50%"]},legend:{data:["博士","硕士","本科","其他"],orient:"vertical",x:5,y:5,textStyle:{color:"#fff"}}};this.eduEchartInstance.setOption(t)},initNewNumChar(){this.newNumEchartInstance=this.$echarts.init(this.$refs.newMember)},getNewNumData(){this.updataNewNumChar(),this.newNumFlag&&(this.newNumEchartData.increaseCount.forEach(t=>{t=parseInt(t),this.newNumCount+=t}),this.newNumFlag=!1)},updataNewNumChar(){const t={textStyle:{color:"white"},tooltip:{trigger:"axis"},xAxis:{type:"category",axisTick:{show:!1},data:this.newNumEchartData.parties,axisLabel:{interval:0}},yAxis:{type:"value",splitLine:{show:!1},axisLabel:{show:!1}},series:{type:"bar",data:this.newNumEchartData.increaseCount,legendHoverLink:!0,itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#a4c2f4"},{offset:.6,color:"#9fc5e8"},{offset:1,color:"#83bff6"}]),barBorderRadius:[5,5,0,0]}}},grid:{x:-6,y:40,x2:7,y2:40},label:{show:!0,position:"top",color:"white"}};this.newNumEchartInstance.setOption(t)},initSexChar(){this.sexEchartInstance=this.$echarts.init(this.$refs.sex)},getSexData(){this.updataSexChar(),this.sexFlag&&(this.sexCount=this.sexEchartData[1].total+this.sexEchartData[0].total,this.sexFlag=!1)},updataSexChar(){const t={tooltip:{trriger:"item"},series:{type:"pie",data:[{name:this.sexEchartData[1].sex,value:this.sexEchartData[1].total},{name:this.sexEchartData[0].sex,value:this.sexEchartData[0].total}],radius:["60%","70%"],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}}},center:["60%","50%"]},legend:{data:[this.sexEchartData[1].sex,this.sexEchartData[0].sex],x:0,y:0,textStyle:{color:"#fff"}},color:["#6b76dd","#f4cccc"]};this.sexEchartInstance.setOption(t)},initJobChar(){this.jobEcharInstance=this.$echarts.init(this.$refs.job)},getJobData(){this.jobFlag&&(this.jobEcharData.forEach(t=>{this.jobCount+=t.count}),this.jobFlag=!1),this.updataJobChar()},updataJobChar(){let t=[],a=[];this.jobEcharData.forEach(e=>{t.unshift(e.LEVEL),a.unshift(e.count)});const e={textStyle:{color:"white"},tooltip:{trigger:"axis"},xAxis:{type:"value",splitLine:{show:!1},axisLabel:{show:!1}},yAxis:{type:"category",data:t,axisTick:{show:!1},axisLabel:{color:"#fff"},z:10},series:{type:"bar",data:a,itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#2378f7"},{offset:.6,color:"#2378f7"},{offset:1,color:"#83bff6"}]),barBorderRadius:[0,5,5,0]}}},label:{show:!0,position:"right",color:"white"},grid:{show:!1,x:50,y:20,x2:20,y2:20}};this.jobEcharInstance.setOption(e)},initMerbersChar(){this.merbersEchartInstance=this.$echarts.init(this.$refs.merbers),this.merbersEchartInstance.on("mouseover",()=>{clearInterval(this.timeMerbersID)}),this.merbersEchartInstance.on("mouseout",()=>{this.startMerbersInterval()})},getMerbersData(){this.updataMerbersChar(),this.startMerbersInterval(),this.merbersEchartData.forEach(t=>{this.merbersCount+=Object.values(t)[0]})},updataMerbersChar(){const t=this.merbersEchartData.map(t=>t.department),a=this.merbersEchartData.map(t=>t.count);this.totoalMerbersPage=this.merbersEchartData.length%8===0?this.merbersEchartData.length/8:this.merbersEchartData.length/8+1;const e=8*(this.currentMerbersPage-1),i=8*this.currentMerbersPage,s=a.slice(e,i),r=t.slice(e,i),h={textStyle:{color:"white"},tooltip:{trigger:"axis"},xAxis:{type:"value",splitLine:{show:!1},axisLabel:{show:!1}},yAxis:{type:"category",data:r,axisTick:{show:!1},axisLabel:{color:"#fff"},z:10},series:{type:"bar",data:s,itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#2378f7"},{offset:.6,color:"#2378f7"},{offset:1,color:"#83bff6"}]),barBorderRadius:[0,5,5,0]}}},label:{show:!0,position:"right",color:"white"},grid:{show:!1,x:140,y:0,x2:20,y2:0}};this.merbersEchartInstance.setOption(h)},startMerbersInterval(){this.timeMerbersID&&clearInterval(this.timeMerbersID),this.timeMerbersID=setInterval(()=>{this.currentMerbersPage++,this.currentMerbersPage>this.totoalMerbersPage&&(this.currentMerbersPage=1),this.updataMerbersChar()},4e3)},initPolChat(){this.politicsEchartInstance=this.$echarts.init(this.$refs.politics)},getPolData(){this.updataPolChar()},updataPolChar(){Object.values(this.politicsEchartData).forEach(t=>{t.forEach(t=>{t<2e3&&(this.polCount+=t)})});const t={textStyle:{color:"white"},grid:{x:10,y:60,x2:10,y2:25},xAxis:{type:"category",axisTick:{show:!1},data:this.politicsEchartData["年份"]},yAxis:{type:"value",splitLine:{show:!1},axisLabel:{show:!1}},series:[{name:"民革",type:"bar",barGap:0,emphasis:{focus:"series"},itemStyle:{normal:{barBorderRadius:[5,5,0,0]}},data:this.politicsEchartData["民革"]},{name:"民盟",type:"bar",barGap:0,emphasis:{focus:"series"},itemStyle:{normal:{barBorderRadius:[5,5,0,0]}},data:this.politicsEchartData["民盟"]},{name:"民建",type:"bar",barGap:0,emphasis:{focus:"series"},itemStyle:{normal:{barBorderRadius:[5,5,0,0]}},data:this.politicsEchartData["民建"]},{name:"民进",type:"bar",barGap:0,emphasis:{focus:"series"},itemStyle:{normal:{barBorderRadius:[5,5,0,0]}},data:this.politicsEchartData["民进"]},{name:"农工",type:"bar",barGap:0,emphasis:{focus:"series"},itemStyle:{normal:{barBorderRadius:[5,5,0,0]}},data:this.politicsEchartData["农工"]},{name:"致公",type:"bar",barGap:0,emphasis:{focus:"series"},itemStyle:{normal:{barBorderRadius:[5,5,0,0]}},data:this.politicsEchartData["致公"]},{name:"九三学社",type:"bar",barGap:0,emphasis:{focus:"series"},itemStyle:{normal:{barBorderRadius:[5,5,0,0]}},data:this.politicsEchartData["九三学社"]}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["民革","民盟","民建","民进","农工","致公","九三学社"],icon:"circle",itemGap:20,textStyle:{color:"white"},top:0},label:{show:!0,position:"top",color:"white"}};this.politicsEchartInstance.setOption(t)},doCallDepartmentData(t){n(t).then(t=>{let a=t;this.numberEchartData=a.res1.t,this.getNumberData(),this.ageEchartData=a.res2.t,this.getAgeData(),this.eduEchartData=a.res3.t,this.getEduData(),this.newNumEchartData=a.res4.t,this.getNewNumData(),this.sexEchartData=a.res5.t,this.getSexData(),this.jobEcharData=a.res6.t,this.getJobData()})},callAllEchart(){o().then(t=>{let a=t;this.numberEchartData=a.res1.t,this.getNumberData(),this.ageEchartData=a.res2.t,this.getAgeData(),this.eduEchartData=a.res3.t,this.getEduData(),this.newNumEchartData=a.res4.t,this.getNewNumData(),this.sexEchartData=a.res5.t,this.getSexData(),this.jobEcharData=a.res6.t,this.getJobData(),this.politicsEchartData=a.res7.t,this.getPolData(),this.merbersEchartData=a.res8.t,this.getMerbersData()}).catch(t=>{console.log(t.message)})}},mounted(){this.initNumberChar(),this.initAgeChar(),this.initEduChar(),this.initNewNumChar(),this.initSexChar(),this.initJobChar(),this.initMerbersChar(),this.initPolChat(),this.initMerbersChar(),this.callAllEchart(),this.$bus.$on("wenxue",this.doCallDepartmentData),this.$bus.$on("shiping",this.doCallDepartmentData),this.$bus.$on("qixiang",this.doCallDepartmentData),this.$bus.$on("houqin",this.doCallDepartmentData),this.$bus.$on("jixie",this.doCallDepartmentData),this.$bus.$on("guanli",this.doCallDepartmentData),this.$bus.$on("makesi",this.doCallDepartmentData),this.$bus.$on("jingji",this.doCallDepartmentData),this.$bus.$on("nengyuan",this.doCallDepartmentData),this.$bus.$on("jisuanji",this.doCallDepartmentData),this.$bus.$on("dianzi",this.doCallDepartmentData),this.$bus.$on("huaxue",this.doCallDepartmentData),this.$bus.$on("nongye",this.doCallDepartmentData),this.$bus.$on("shuichan",this.doCallDepartmentData),this.$bus.$on("fazhen",this.doCallDepartmentData),this.$bus.$on("waiguoyu",this.doCallDepartmentData),this.$bus.$on("zhongge",this.doCallDepartmentData),this.$bus.$on("tiyu",this.doCallDepartmentData),this.$bus.$on("jiguan",this.doCallDepartmentData),this.$bus.$on("tuixiu",this.doCallDepartmentData),this.$bus.$on("jiaofu",this.doCallDepartmentData)},beforeDestroyed(){clearInterval(this.timeMerbersID)},components:{SchoolMap:c["a"]}},u=l,d=(e("562a"),e("2877")),p=Object(d["a"])(u,i,s,!1,null,"9ead1dc2",null);a["default"]=p.exports},"6ca2":function(t,a,e){}}]);