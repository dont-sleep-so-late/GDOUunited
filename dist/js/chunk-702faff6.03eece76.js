(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-702faff6"],{d694:function(e,s,t){"use strict";var a=t("b775");const r="http://175.178.83.49:8222/admin/acl/user";s["a"]={getPageList(e,s,t){return Object(a["a"])({url:`${r}/${e}/${s}`,method:"get",params:t})},getById(e){return Object(a["a"])({url:`${r}/getId/${e}`,method:"get"})},save(e){return Object(a["a"])({url:r+"/save",method:"post",data:e})},updateById(e){return Object(a["a"])({url:r+"/update",method:"put",data:e})},getAssign(e){return Object(a["a"])({url:`${r}/toAssign/${e}`,method:"get"})},saveAssign(e,s){return Object(a["a"])({url:r+"/doAssign",method:"post",params:{userId:e,roleId:s}})},removeById(e){return Object(a["a"])({url:`${r}/remove/${e}`,method:"delete"})},removeRows(e){return Object(a["a"])({url:r+"/batchRemove",method:"delete",data:e})}}},e5c3:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e._self._c;return s("div",{staticClass:"app-container"},[s("el-form",{ref:"user",attrs:{model:e.user,rules:e.validateRules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{model:{value:e.user.username,callback:function(s){e.$set(e.user,"username",s)},expression:"user.username"}})],1),s("el-form-item",{attrs:{label:"用户昵称"}},[s("el-input",{model:{value:e.user.nickName,callback:function(s){e.$set(e.user,"nickName",s)},expression:"user.nickName"}})],1),e.user.id?e._e():s("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[s("el-input",{model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}})],1),s("el-form-item",[s("el-button",{attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:e.saveOrUpdate}},[e._v("保存")])],1)],1)],1)},r=[],u=(t("d9e2"),t("14d9"),t("d694"));const i={username:"",nickName:"",password:""},l=(e,s,t)=>{s.length<6?t(new Error("密码不能小于6位")):t()};var o={data(){return{user:i,saveBtnDisabled:!1,validateRules:{username:[{required:!0,trigger:"blur",message:"用户名必须输入"}],password:[{required:!0,trigger:"blur",validator:l}]}}},watch:{$route(e,s){console.log("路由变化......"),console.log(e),console.log(s),this.init()}},created(){console.log("form created ......"),this.init()},methods:{init(){if(this.$route.params&&this.$route.params.id){const e=this.$route.params.id;this.fetchDataById(e)}else this.user={...i}},saveOrUpdate(){this.$refs.user.validate(e=>{e&&(this.saveBtnDisabled=!0,this.user.id?this.updateData():this.saveData())})},saveData(){u["a"].save(this.user).then(e=>{e.success&&(this.$message({type:"success",message:e.message}),this.$router.push({path:"/workplace/user/list"}))})},updateData(){u["a"].updateById(this.user).then(e=>{e.success&&(this.$message({type:"success",message:e.message}),this.$router.push({path:"/workplace/user/list"}))})},fetchDataById(e){u["a"].getById(e).then(e=>{this.user=e.data.item})}}},n=o,d=t("2877"),c=Object(d["a"])(n,a,r,!1,null,null,null);s["default"]=c.exports}}]);