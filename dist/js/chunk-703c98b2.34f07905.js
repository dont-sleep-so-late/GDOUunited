(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-703c98b2"],{"4ffd":function(e,t,o){e.exports=o.p+"img/logo.1ffcebfe.png"},6147:function(e,t,o){"use strict";o("bbe0")},"7f70":function(e,t,o){e.exports=o.p+"img/学校logo.37cb12b5.png"},"8ebe":function(e,t,o){e.exports=o.p+"img/云统战.6a67ec7f.png"},a86a:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"LoginContainer"},[e._m(0),t("div",{staticClass:"mainContainer"},[e._m(1),t("div",{staticClass:"LoginBox"},[e._m(2),t("div",{staticClass:"formBox"},[t("el-form",{ref:"loginForm",staticClass:"input",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.loginForm,rules:e.loginRules,"auto-complete":"on"}},[t("el-form-item",{staticClass:"setFormColor",attrs:{label:"账号",prop:"username"}},[t("el-input",{attrs:{type:"text",name:"username","auto-complete":"on",placeholder:"username"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{staticClass:"setFormColor",attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:e.pwdType,name:"password","auto-complete":"on",placeholder:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),t("el-form-item",{staticClass:"submitBox"},[t("el-button",{staticClass:"submitBtn",attrs:{type:"warning",loading:e.loading},on:{click:e.handleLogin}},[e._v(" 提交 ")])],1)],1)],1)])])])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"headBox"},[t("p",[e._v("广东海洋大学云端统战部")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"photoBox"},[t("img",{attrs:{src:o("4ffd"),alt:""}}),t("img",{staticClass:"img2",attrs:{src:o("8ebe"),alt:""}})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"logoBox"},[t("img",{attrs:{src:o("7f70"),alt:""}})])}];o("d9e2"),o("14d9"),o("bc3a");function i(e){return""!==e.trim()}var n={name:"LoginPage",data(){const e=(e,t,o)=>{i(t)?o():o(new Error("请输入正确的用户名"))},t=(e,t,o)=>{t.length<6?o(new Error("密码不能小于6位")):o()};return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},loading:!1,pwdType:"password",redirect:void 0,labelPosition:"left"}},methods:{submit(){location.href="#/appMainIndex"},showPwd(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin(){this.$refs.loginForm.validate(e=>{if(!e)return console.log("error submit!!"),!1;this.loading=!0,this.$store.dispatch("Login",this.loginForm).then(()=>{this.loading=!1,this.$router.push("/appMainIndex")}).catch(()=>{this.loading=!1})})}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},beforeCreate(){document.querySelector("body").setAttribute("style","background-color:#872624")},beforeDestroy(){document.querySelector("body").setAttribute("style","background-color:''")}},a=n,l=(o("6147"),o("2877")),c=Object(l["a"])(a,s,r,!1,null,"265ec647",null);t["default"]=c.exports},bbe0:function(e,t,o){}}]);