{"remainingRequest":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\pages\\login\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\pages\\login\\login.vue","mtime":1701357754207},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\babel.config.js","mtime":1679218944000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715100000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgc2V0U3VwcG9ydCwgZ2V0U3VwcG9ydCwgc2V0Q29va2llLCBnZXRDb29raWUgfSBmcm9tICdAL3V0aWxzL3N1cHBvcnQnOwppbXBvcnQgeyBpc3ZhbGlkVXNlcm5hbWUgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsb2dpbicsCiAgZGF0YSgpIHsKICAgIGNvbnN0IHZhbGlkYXRlVXNlcm5hbWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICghaXN2YWxpZFVzZXJuYW1lKHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5q2j56Gu55qE55So5oi35ZCNJykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CiAgICBjb25zdCB2YWxpZGF0ZVBhc3MgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCA2KSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCflr4bnoIHkuI3og73lsI/kuo425L2NJykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CiAgICByZXR1cm4gewogICAgICBsb2dpbkZvcm06IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIGxvZ2luUnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVVzZXJuYW1lCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHB3ZFR5cGU6ICdwYXNzd29yZCcsCiAgICAgIHJlZGlyZWN0OiB1bmRlZmluZWQsCiAgICAgIGxhYmVsUG9zaXRpb246ICJsZWZ0IgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dQd2QoKSB7CiAgICAgIGlmICh0aGlzLnB3ZFR5cGUgPT09ICdwYXNzd29yZCcpIHsKICAgICAgICB0aGlzLnB3ZFR5cGUgPSAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnB3ZFR5cGUgPSAncGFzc3dvcmQnOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlTG9naW4oKSB7CiAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIC8vIGRlYnVnZ2VyCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ0xvZ2luJywgdGhpcy5sb2dpbkZvcm0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9hcHBNYWluSW5kZXgnKTsKICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKHJvdXRlKSB7CiAgICAgICAgdGhpcy5yZWRpcmVjdCA9IHJvdXRlLnF1ZXJ5ICYmIHJvdXRlLnF1ZXJ5LnJlZGlyZWN0OwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIGJlZm9yZUNyZWF0ZSgpIHsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHkiKS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgImJhY2tncm91bmQtY29sb3I6Izg3MjYyNCIpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHkiKS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgImJhY2tncm91bmQtY29sb3I6JyciKTsKICB9Cn07"},{"version":3,"mappings":";;AAwCA;AACA;AACA;AAEA;EACAA;EACAC;IACA;MACA;QACAC;MACA;QACAA;MACA;IACA;IACA;MACA;QACAA;MACA;QACAA;MACA;IACA;IACA;MACAC;QACAC;QACAC;MACA;MACAC;QACAF;UAAAG;UAAAC;UAAAC;QAAA;QACAJ;UAAAE;UAAAC;UAAAC;QAAA;MACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAEAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;UACA;UACA;UACA;YACA;YACA;UAEA;YACA;UAEA;QACA;UACAC;UACA;QACA;MACA;IACA;EACA;EACAC;IACAC;MACAC;QACA;MACA;MACAC;IACA;EAEA;EACAC;IACAC,SACAC,sBACAC;EACA;EACAC;IACAH;EACA;AACA","names":["name","data","callback","loginForm","username","password","loginRules","required","trigger","validator","loading","pwdType","redirect","labelPosition","methods","showPwd","handleLogin","console","watch","$route","handler","immediate","beforeCreate","document","querySelector","setAttribute","beforeDestroy"],"sourceRoot":"src/pages/login","sources":["login.vue"],"sourcesContent":["<template>\n  <div class=\"LoginContainer\">\n    <div class=\"headBox\">\n      <p>广东海洋大学云端统战部</p>\n    </div>\n    <div class=\"mainContainer\">\n      <div class=\"photoBox\">\n        <img src=\"../../assets/img/logo.png\" alt=\"\" />\n        <img src=\"../../assets/img/LoginImg/云统战.png\" class=\"img2\" alt=\"\" />\n      </div>\n      <div class=\"LoginBox\">\n        <div class=\"logoBox\">\n          <img src=\"../../assets/img/LoginImg/学校logo.png\" alt=\"\" />\n        </div>\n        <div class=\"formBox\">\n          <el-form :label-position=\"labelPosition\" label-width=\"80px\" class=\"input\" ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" auto-complete=\"on\">\n\n            <el-form-item label=\"账号\" class=\"setFormColor\" prop=\"username\">\n              <el-input type=\"text\" v-model=\"loginForm.username\" name=\"username\" auto-complete=\"on\" placeholder=\"username\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\" class=\"setFormColor\" prop=\"password\">\n              <el-input :type=\"pwdType\" v-model=\"loginForm.password\" name=\"password\" auto-complete=\"on\" placeholder=\"password\" @keyup.enter.native=\"handleLogin\"></el-input>\n              <span class=\"show-pwd\" @click=\"showPwd\">\n                <svg-icon icon-class=\"eye\" />\n              </span>\n            </el-form-item>\n            <el-form-item class=\"submitBox\">\n              <el-button type=\"warning\" class=\"submitBtn\" :loading=\"loading\" @click=\"handleLogin\">\n                提交\n              </el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { setSupport, getSupport, setCookie, getCookie } from '@/utils/support'\nimport { isvalidUsername } from '@/utils/validate'\n\nexport default {\n  name: 'login',\n  data () {\n    const validateUsername = (rule, value, callback) => {\n      if (!isvalidUsername(value)) {\n        callback(new Error('请输入正确的用户名'))\n      } else {\n        callback()\n      }\n    };\n    const validatePass = (rule, value, callback) => {\n      if (value.length < 6) {\n        callback(new Error('密码不能小于6位'))\n      } else {\n        callback()\n      }\n    };\n    return {\n      loginForm: {\n        username: '',\n        password: '',\n      },\n      loginRules: {\n        username: [{ required: true, trigger: 'blur', validator: validateUsername }],\n        password: [{ required: true, trigger: 'blur', validator: validatePass }]\n      },\n      loading: false,\n      pwdType: 'password',\n      redirect: undefined,\n      labelPosition: \"left\"\n    }\n  },\n  methods: {\n\n    showPwd () {\n      if (this.pwdType === 'password') {\n        this.pwdType = ''\n      } else {\n        this.pwdType = 'password'\n      }\n    },\n    handleLogin () {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          // debugger\n          this.loading = true\n          this.$store.dispatch('Login', this.loginForm).then(() => {\n            this.loading = false\n            this.$router.push('/appMainIndex')\n\n          }).catch(() => {\n            this.loading = false\n\n          })\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    }\n  },\n  watch: {\n    $route: {\n      handler: function (route) {\n        this.redirect = route.query && route.query.redirect\n      },\n      immediate: true\n    },\n\n  },\n  beforeCreate () {\n    document\n      .querySelector(\"body\")\n      .setAttribute(\"style\", \"background-color:#872624\");\n  },\n  beforeDestroy () {\n    document.querySelector(\"body\").setAttribute(\"style\", \"background-color:''\");\n  },\n};\n</script>\n\n\n\n<style scoped>\n.LoginContainer {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  min-width: 1220px;\n  background: url(\"../../assets/img/IndexImg/13.gif\");\n  background-size: 100% 100%;\n}\n\n.headBox {\n  /* background-image: url(\"../../assets/img/IndexImg/4.png\");\n  background-size: 100% 80px;\n  background-repeat: no-repeat; */\n  min-width: 1220px;\n  max-width: 100%;\n  height: 80px;\n  font-size: 18pt;\n  text-align: center;\n  color: #f7d7b6;\n  font-weight: bold;\n  line-height: 55px;\n}\n\n.mainContainer {\n  width: 1220px;\n  height: 400px;\n  margin: auto;\n  margin-top: 150px;\n}\n\n.photoBox {\n  float: left;\n  width: 600px;\n  height: 400px;\n}\n\n.photoBox img {\n  width: 600px;\n  height: 400px;\n}\n\n.LoginBox {\n  position: relative;\n  float: right;\n  width: 600px;\n  height: 400px;\n  /* background-image: url(\"../../assets/img/LoginImg/框2.png\");\n  background-repeat: no-repeat;\n  background-size: 100% 400px; */\n}\n\n.logoBox {\n  position: absolute;\n  left: calc(50% - 60px);\n  top: -40px;\n}\n\n.formBox {\n  padding: 20px;\n  margin-top: 80px;\n}\n\n::v-deep .setFormColor .el-form-item__label {\n  color: #f7d7b6;\n  font-size: 18px;\n}\n\n::v-deep .submitBox .el-form-item__content {\n  margin-left: 0 !important;\n}\n\n.submitBtn {\n  font-size: 18px;\n  display: block;\n  margin: auto;\n}\n/* 杨政恒 */\n.photoBox {\n  display: flex;\n  align-items: center;\n}\n.photoBox img {\n  width: 250px;\n  height: 250px;\n}\n.photoBox img.img2 {\n  width: 330px;\n  height: 230px;\n}\n.input {\n  padding-top: 40px;\n}\n</style>"]}]}