{"remainingRequest":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\views\\ums\\menu\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\views\\ums\\menu\\index.vue","mtime":1709121343726},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\babel.config.js","mtime":1679218944000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715100000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IGZldGNoTGlzdCwgZGVsZXRlTWVudSwgdXBkYXRlTWVudSwgdXBkYXRlSGlkZGVuIH0gZnJvbSAnQC9hcGkvbWVudSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibWVudUxpc3QiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBudWxsLAogICAgICB0b3RhbDogbnVsbCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGxpc3RRdWVyeTogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDUKICAgICAgfSwKICAgICAgcGFyZW50SWQ6IDAKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5yZXNldFBhcmVudElkKCk7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGUocm91dGUpIHsKICAgICAgdGhpcy5yZXNldFBhcmVudElkKCk7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXRQYXJlbnRJZCgpIHsKICAgICAgdGhpcy5saXN0UXVlcnkucGFnZU51bSA9IDE7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5wYXJlbnRJZCAhPSBudWxsKSB7CiAgICAgICAgdGhpcy5wYXJlbnRJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnBhcmVudElkOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGFyZW50SWQgPSAwOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlQWRkTWVudSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy91bXMvYWRkTWVudScpOwogICAgfSwKICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlOwogICAgICBmZXRjaExpc3QodGhpcy5wYXJlbnRJZCwgdGhpcy5saXN0UXVlcnkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWw7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMubGlzdFF1ZXJ5LnBhZ2VOdW0gPSAxOwogICAgICB0aGlzLmxpc3RRdWVyeS5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5saXN0UXVlcnkucGFnZU51bSA9IHZhbDsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlSGlkZGVuQ2hhbmdlKGluZGV4LCByb3cpIHsKICAgICAgdXBkYXRlSGlkZGVuKHJvdy5pZCwgewogICAgICAgIGhpZGRlbjogcm93LmhpZGRlbgogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnmiJDlip8nLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2hvd05leHRMZXZlbChpbmRleCwgcm93KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3Vtcy9tZW51JywKICAgICAgICBxdWVyeTogewogICAgICAgICAgcGFyZW50SWQ6IHJvdy5pZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlVXBkYXRlKGluZGV4LCByb3cpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvdW1zL3VwZGF0ZU1lbnUnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBpZDogcm93LmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGUoaW5kZXgsIHJvdykgewogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbopoHliKDpmaTor6Xoj5zljZUnLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgZGVsZXRlTWVudShyb3cuaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIGxldmVsRmlsdGVyKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gMCkgewogICAgICAgIHJldHVybiAn5LiA57qnJzsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gMSkgewogICAgICAgIHJldHVybiAn5LqM57qnJzsKICAgICAgfQogICAgfSwKICAgIGRpc2FibGVOZXh0TGV2ZWwodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";AA2DA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACAC;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IAEA;IACAC;MACAC;QAAAC;MAAA;QACA;UACAC;UACAC;UACAC;QACA;MACA;IACA;IACAC;MACA;QAAAC;QAAAC;UAAAnB;QAAA;MAAA;IACA;IACAoB;MACA;QAAAF;QAAAC;UAAAE;QAAA;MAAA;IACA;IACAC;MACA;QACAC;QACAC;QACAT;MACA;QACAU;UACA;YACAX;YACAC;YACAC;UACA;UACA;QACA;MACA;IACA;EACA;EACAU;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;EACA;AACA","names":["name","data","list","total","listLoading","listQuery","pageNum","pageSize","parentId","created","watch","$route","methods","resetParentId","handleAddMenu","getList","fetchList","handleSizeChange","handleCurrentChange","handleHiddenChange","updateHidden","hidden","message","type","duration","handleShowNextLevel","path","query","handleUpdate","id","handleDelete","confirmButtonText","cancelButtonText","deleteMenu","filters","levelFilter","disableNextLevel"],"sourceRoot":"src/views/ums/menu","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-card class=\"operate-container\" shadow=\"never\">\n      <i class=\"el-icon-tickets\" style=\"margin-top: 5px\"></i>\n      <span style=\"margin-top: 5px\">数据列表</span>\n      <el-button class=\"btn-add\" @click=\"handleAddMenu()\" size=\"mini\">\n        添加\n      </el-button>\n    </el-card>\n    <div class=\"table-container\">\n      <el-table ref=\"menuTable\" style=\"width: 100%\" :data=\"list\" v-loading=\"listLoading\" border>\n        <el-table-column label=\"编号\" width=\"100\" align=\"center\">\n          <template slot-scope=\"scope\">{{scope.row.id}}</template>\n        </el-table-column>\n        <el-table-column label=\"菜单名称\" align=\"center\">\n          <template slot-scope=\"scope\">{{scope.row.title}}</template>\n        </el-table-column>\n        <el-table-column label=\"菜单级数\" width=\"100\" align=\"center\">\n          <template slot-scope=\"scope\">{{scope.row.level | levelFilter}}</template>\n        </el-table-column>\n        <el-table-column label=\"前端名称\" align=\"center\">\n          <template slot-scope=\"scope\">{{scope.row.name}}</template>\n        </el-table-column>\n        <el-table-column label=\"前端图标\" width=\"100\" align=\"center\">\n          <template slot-scope=\"scope\"><svg-icon :icon-class=\"scope.row.icon\"></svg-icon></template>\n        </el-table-column>\n        <el-table-column label=\"是否显示\" width=\"100\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-switch @change=\"handleHiddenChange(scope.$index, scope.row)\" :active-value=\"0\" :inactive-value=\"1\" v-model=\"scope.row.hidden\">\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"排序\" width=\"100\" align=\"center\">\n          <template slot-scope=\"scope\">{{scope.row.sort }}</template>\n        </el-table-column>\n        <el-table-column label=\"设置\" width=\"120\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" type=\"text\" :disabled=\"scope.row.level | disableNextLevel\" @click=\"handleShowNextLevel(scope.$index, scope.row)\">查看下级\n            </el-button>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"200\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" type=\"text\" @click=\"handleUpdate(scope.$index, scope.row)\">编辑\n            </el-button>\n            <el-button size=\"mini\" type=\"text\" @click=\"handleDelete(scope.$index, scope.row)\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"pagination-container\">\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" layout=\"total, sizes,prev, pager, next,jumper\" :page-size=\"listQuery.pageSize\" :page-sizes=\"[5,10,15]\" :current-page.sync=\"listQuery.pageNum\" :total=\"total\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { fetchList, deleteMenu, updateMenu, updateHidden } from '@/api/menu'\n\nexport default {\n  name: \"menuList\",\n  data () {\n    return {\n      list: null,\n      total: null,\n      listLoading: true,\n      listQuery: {\n        pageNum: 1,\n        pageSize: 5\n      },\n      parentId: 0\n    }\n  },\n  created () {\n    this.resetParentId();\n    this.getList();\n  },\n  watch: {\n    $route (route) {\n      this.resetParentId();\n      this.getList();\n    }\n  },\n  methods: {\n    resetParentId () {\n      this.listQuery.pageNum = 1;\n      if (this.$route.query.parentId != null) {\n        this.parentId = this.$route.query.parentId;\n      } else {\n        this.parentId = 0;\n      }\n    },\n    handleAddMenu () {\n      this.$router.push('/ums/addMenu');\n    },\n    getList () {\n      this.listLoading = true;\n      fetchList(this.parentId, this.listQuery).then(response => {\n        this.listLoading = false;\n        this.list = response.data.list;\n        this.total = response.data.total;\n      });\n    },\n    handleSizeChange (val) {\n      this.listQuery.pageNum = 1;\n      this.listQuery.pageSize = val;\n      this.getList();\n    },\n    handleCurrentChange (val) {\n      this.listQuery.pageNum = val;\n      this.getList();\n\n    },\n    handleHiddenChange (index, row) {\n      updateHidden(row.id, { hidden: row.hidden }).then(response => {\n        this.$message({\n          message: '修改成功',\n          type: 'success',\n          duration: 1000\n        });\n      });\n    },\n    handleShowNextLevel (index, row) {\n      this.$router.push({ path: '/ums/menu', query: { parentId: row.id } })\n    },\n    handleUpdate (index, row) {\n      this.$router.push({ path: '/ums/updateMenu', query: { id: row.id } });\n    },\n    handleDelete (index, row) {\n      this.$confirm('是否要删除该菜单', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteMenu(row.id).then(response => {\n          this.$message({\n            message: '删除成功',\n            type: 'success',\n            duration: 1000\n          });\n          this.getList();\n        });\n      });\n    }\n  },\n  filters: {\n    levelFilter (value) {\n      if (value === 0) {\n        return '一级';\n      } else if (value === 1) {\n        return '二级';\n      }\n    },\n    disableNextLevel (value) {\n      if (value === 0) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}