{"remainingRequest":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\utils\\request.js","mtime":1694960678000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\babel.config.js","mtime":1679218944000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKCi8vIOWIm+W7umF4aW9z5a6e5L6LCmNvbnN0IHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIC8vIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksIC8vIGFwaSDnmoQgYmFzZV91cmwKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MjIyJywKICB0aW1lb3V0OiAyMDAwMCAvLyDor7fmsYLotoXml7bml7bpl7QKfSk7CgovLyByZXF1ZXN05oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGNvbmZpZyA9PiB7CiAgaWYgKHN0b3JlLmdldHRlcnMudG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBnZXRUb2tlbigpOyAvLyDorqnmr4/kuKror7fmsYLmkLrluKboh6rlrprkuYl0b2tlbiDor7fmoLnmja7lrp7pmYXmg4XlhrXoh6rooYzkv67mlLkKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGVycm9yID0+IHsKICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXF1ZXN0IGVycm9yCiAgY29uc29sZS5sb2coZXJyb3IpOyAvLyBmb3IgZGVidWcKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8gcmVzcG9uc2Ug5oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7CiAgLyoqDQogICAqIGNvZGXkuLrpnZ4yMDAwMOaYr+aKm+mUmSDlj6/nu5PlkIjoh6rlt7HkuJrliqHov5vooYzkv67mlLkNCiAgICovCiAgY29uc3QgcmVzID0gcmVzcG9uc2UuZGF0YTsKICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAvLyBkZWJ1Z2dlcgogIGlmIChyZXMuY29kZSAhPT0gMjAwICYmIHJlcy5jb2RlICE9PSAyMDAwMCAmJiByZXMuY29kZSAhPT0gNDAwMTIpIHsKICAgIF9NZXNzYWdlKHsKICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ2Vycm9yJyk7CiAgfSBlbHNlIGlmIChyZXMuY29kZSA9PT0gNDAwMTIpIHsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnZXJyb3InKTsKICB9IGVsc2UgewogICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgfQp9LCBlcnJvciA9PiB7CiAgY29uc29sZS5sb2coJ2VycicgKyBlcnJvcik7IC8vIGZvciBkZWJ1ZwogIF9NZXNzYWdlKHsKICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICB0eXBlOiAnZXJyb3InLAogICAgZHVyYXRpb246IDUgKiAxMDAwCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"names":["axios","store","getToken","service","create","baseURL","timeout","interceptors","request","use","config","getters","token","headers","error","console","log","Promise","reject","response","res","data","code","_Message","message","type","duration"],"sources":["C:/Users/86198/Desktop/qianduantongzhan/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport { Message, MessageBox } from 'element-ui'\r\nimport store from '../store'\r\nimport { getToken } from '@/utils/auth'\r\n\r\n// 创建axios实例\r\nconst service = axios.create({\r\n  // baseURL: process.env.VUE_APP_BASE_API, // api 的 base_url\r\n  baseURL: 'http://localhost:8222',\r\n  timeout: 20000, // 请求超时时间\r\n})\r\n\r\n// request拦截器\r\nservice.interceptors.request.use(\r\n  (config) => {\r\n    if (store.getters.token) {\r\n      config.headers['Authorization'] = getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\r\n    }\r\n    return config\r\n  },\r\n  (error) => {\r\n    // Do something with request error\r\n    console.log(error) // for debug\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\n// response 拦截器\r\nservice.interceptors.response.use(\r\n  (response) => {\r\n    /**\r\n     * code为非20000是抛错 可结合自己业务进行修改\r\n     */\r\n    const res = response.data\r\n    // console.log(response)\r\n    // debugger\r\n    if (res.code !== 200 && res.code !== 20000 && res.code !== 40012) {\r\n      Message({\r\n        message: res.message,\r\n        type: 'error',\r\n        duration: 5 * 1000,\r\n      })\r\n      return Promise.reject('error')\r\n    } else if (res.code === 40012) {\r\n      return Promise.reject('error')\r\n    } else {\r\n      return response.data\r\n    }\r\n  },\r\n  (error) => {\r\n    console.log('err' + error) // for debug\r\n    Message({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000,\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default service\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAOC,KAAK,MAAM,UAAU;AAC5B,SAASC,QAAQ,QAAQ,cAAc;;AAEvC;AACA,MAAMC,OAAO,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC3B;EACAC,OAAO,EAAE,uBAAuB;EAChCC,OAAO,EAAE,KAAK,CAAE;AAClB,CAAC,CAAC;;AAEF;AACAH,OAAO,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC7BC,MAAM,IAAK;EACV,IAAIT,KAAK,CAACU,OAAO,CAACC,KAAK,EAAE;IACvBF,MAAM,CAACG,OAAO,CAAC,eAAe,CAAC,GAAGX,QAAQ,EAAE,EAAC;EAC/C;;EACA,OAAOQ,MAAM;AACf,CAAC,EACAI,KAAK,IAAK;EACT;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC;EACnBG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AACvB,CAAC,CACF;;AAED;AACAX,OAAO,CAACI,YAAY,CAACY,QAAQ,CAACV,GAAG,CAC9BU,QAAQ,IAAK;EACZ;AACJ;AACA;EACI,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACzB;EACA;EACA,IAAID,GAAG,CAACE,IAAI,KAAK,GAAG,IAAIF,GAAG,CAACE,IAAI,KAAK,KAAK,IAAIF,GAAG,CAACE,IAAI,KAAK,KAAK,EAAE;IAChEC,QAAA,CAAQ;MACNC,OAAO,EAAEJ,GAAG,CAACI,OAAO;MACpBC,IAAI,EAAE,OAAO;MACbC,QAAQ,EAAE,CAAC,GAAG;IAChB,CAAC,CAAC;IACF,OAAOT,OAAO,CAACC,MAAM,CAAC,OAAO,CAAC;EAChC,CAAC,MAAM,IAAIE,GAAG,CAACE,IAAI,KAAK,KAAK,EAAE;IAC7B,OAAOL,OAAO,CAACC,MAAM,CAAC,OAAO,CAAC;EAChC,CAAC,MAAM;IACL,OAAOC,QAAQ,CAACE,IAAI;EACtB;AACF,CAAC,EACAP,KAAK,IAAK;EACTC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGF,KAAK,CAAC,EAAC;EAC3BS,QAAA,CAAQ;IACNC,OAAO,EAAEV,KAAK,CAACU,OAAO;IACtBC,IAAI,EAAE,OAAO;IACbC,QAAQ,EAAE,CAAC,GAAG;EAChB,CAAC,CAAC;EACF,OAAOT,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CAAC,CACF;AAED,eAAeX,OAAO"}]}