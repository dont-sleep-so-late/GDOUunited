{"remainingRequest":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\src\\store\\modules\\permission.js","dependencies":[{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\src\\store\\modules\\permission.js","mtime":1711087300000},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\babel.config.js","mtime":1710918909587},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710918915895},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\babel-loader\\lib\\index.js","mtime":1710918914227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0TWVudSB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgeyByb3V0ZXMgfSBmcm9tICdAL3JvdXRlci9pbmRleCc7CmltcG9ydCB7IGFzeW5jUm91dGVyTWFwIH0gZnJvbSAnQC9yb3V0ZXIvaW5kZXgnOwovLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0Avdmlld3MvbGF5b3V0L0xheW91dCcKCi8v5a6a5pe25ZmoCmNvbnN0IGRlYm91bmNlID0gKCgpID0+IHsKICBsZXQgdGltZXIgPSBudWxsOyAvL+aOpeWPl+WumuaXtuWZqAogIHJldHVybiAoY2FsbGJhY2ssIHRpbWUpID0+IHsKICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWUpOwogIH07Cn0pKCk7CgovL+ivt+axguiOt+WPluiPnOWNleWIl+ihqApmdW5jdGlvbiBnZXRNZW51TGlzdCgpIHsKICB2YXIgbWVudUxpc3QgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbWVudUxpc3QnKTsKICBpZiAobWVudUxpc3QgPT0gbnVsbCkgewogICAgZ2V0TWVudSgpLnRoZW4ocmVzID0+IHsKICAgICAgbWVudUxpc3QgPSByZXM7CiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdtZW51TGlzdCcsIG1lbnVMaXN0KTsKICAgICAgcmV0dXJuIG1lbnVMaXN0OwogICAgfSk7CiAgfQogIHJldHVybiBtZW51TGlzdDsKfQoKLy/liKTmlq3mmK/lkKbmnInmnYPpmZDorr/pl67or6Xoj5zljZUKZnVuY3Rpb24gaGFzUGVybWlzc2lvbihtZW51LCByb3V0ZSkgewogIGlmIChyb3V0ZS5uYW1lKSB7CiAgICBsZXQgY3Vyck1lbnUgPSB7fTsKICAgIC8v6Ziy5oqWCiAgICBkZWJvdW5jZSgoKSA9PiB7CiAgICAgIGN1cnJNZW51ID0gZ2V0TWVudUxpc3QoKTsKICAgIH0sIDEwMDApOwogICAgaWYgKGN1cnJNZW51ICE9IG51bGwpIHsKICAgICAgLy/orr7nva7oj5zljZXnmoTmoIfpopjjgIHlm77moIflkozlj6/op4HmgKcKICAgICAgaWYgKGN1cnJNZW51LnRpdGxlICE9IG51bGwgJiYgY3Vyck1lbnUudGl0bGUgIT09ICcnKSB7CiAgICAgICAgcm91dGUubWV0YS50aXRsZSA9IGN1cnJNZW51LnRpdGxlOwogICAgICB9CiAgICAgIGlmIChjdXJyTWVudS5pY29uICE9IG51bGwgJiYgY3Vyck1lbnUudGl0bGUgIT09ICcnKSB7CiAgICAgICAgcm91dGUubWV0YS5pY29uID0gY3Vyck1lbnUuaWNvbjsKICAgICAgfQogICAgICBpZiAoY3Vyck1lbnUuaGlkZGVuICE9IG51bGwpIHsKICAgICAgICByb3V0ZS5oaWRkZW4gPSBjdXJyTWVudS5oaWRkZW4gIT09IDA7CiAgICAgIH0KICAgICAgaWYgKGN1cnJNZW51LnNvcnQgIT0gbnVsbCAmJiBjdXJyTWVudS5zb3J0ICE9PSAnJykgewogICAgICAgIHJvdXRlLnNvcnQgPSBjdXJyTWVudS5zb3J0OwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgcm91dGUuc29ydCA9IDA7CiAgICAgIGlmIChyb3V0ZS5oaWRkZW4gIT09IHVuZGVmaW5lZCAmJiByb3V0ZS5oaWRkZW4gPT09IHRydWUpIHsKICAgICAgICByb3V0ZS5zb3J0ID0gLTE7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgfSBlbHNlIHsKICAgIHJldHVybiB0cnVlOwogIH0KfQpmdW5jdGlvbiBmaWx0ZXJBc3luY1JvdXRlcihhc3luY1JvdXRlck1hcCkgewogIC8vIOmBjeWOhuWQjuWPsOS8oOadpeeahOi3r+eUseWtl+espuS4smNvbXBvbmVudO+8jOi9rOaNouS4uue7hOS7tuWvueixoSDliqjmgIHot6/nlLHnlJ/miJDlmahwZXJtaXNzaW9uLmpzCiAgdHJ5IHsKICAgIGNvbnN0IGFjY2Vzc2VkUm91dGVycyA9IGFzeW5jUm91dGVyTWFwLmZpbHRlcihyb3V0ZSA9PiB7CiAgICAgIGlmIChyb3V0ZS5pY29uKSB7CiAgICAgICAgaWYgKHJvdXRlLmljb24gPT09ICdMYXlvdXQnKSB7CiAgICAgICAgICAvLyBMYXlvdXTnu4Tku7bnibnmrorlpITnkIYKICAgICAgICAgIC8vcm91dGUuY29tcG9uZW50ID0gTGF5b3V0CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHJvdXRlLmljb247CiAgICAgICAgICByb3V0ZS5pY29uID0gcmVzb2x2ZSA9PiB7CiAgICAgICAgICAgIHJlcXVpcmUoWydAL3ZpZXdzJyArIGNvbXBvbmVudCArICcudnVlJ10sIHJlc29sdmUpOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIHJvdXRlLmNoaWxkcmVuID0gZmlsdGVyQXN5bmNSb3V0ZXIocm91dGUuY2hpbGRyZW4pOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CiAgICByZXR1cm4gYWNjZXNzZWRSb3V0ZXJzOwogIH0gY2F0Y2ggKGUpIHsKICAgIGNvbnNvbGUubG9nKGUpOwogIH0KfQpjb25zdCBzdGF0ZSA9IHsKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnL2xvZ2luJywKICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdAL3BhZ2VzL3dvcmtwbGFjZS9tZW51L2xpc3QnKSwKICAgIGhpZGRlbjogdHJ1ZQogIH0sIHsKICAgIHBhdGg6ICcvNDA0JywKICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdAL3BhZ2VzL3dvcmtwbGFjZS9tZW51L2xpc3QnKSwKICAgIGhpZGRlbjogdHJ1ZQogIH0sIHsKICAgIHBhdGg6ICcnLAogICAgcmVkaXJlY3Q6ICcvaG9tZScsCiAgICBtZXRhOiB7CiAgICAgIHRpdGxlOiAn6aaW6aG1JywKICAgICAgaWNvbjogJ2hvbWUnCiAgICB9LAogICAgY2hpbGRyZW46IFt7CiAgICAgIHBhdGg6ICdob21lJywKICAgICAgbmFtZTogJ2hvbWUnLAogICAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnQC9wYWdlcy93b3JrcGxhY2UvbWVudS9saXN0JyksCiAgICAgIG1ldGE6IHsKICAgICAgICB0aXRsZTogJ+S7quihqOebmCcsCiAgICAgICAgaWNvbjogJ2Rhc2hib2FyZCcKICAgICAgfQogICAgfSwgewogICAgICBuYW1lOiAnZG9jdW1lbnQnLAogICAgICBwYXRoOiAnaHR0cHM6Ly93d3cubWFjcm96aGVuZy5jb20nLAogICAgICBtZXRhOiB7CiAgICAgICAgdGl0bGU6ICflrabkuaDmlZnnqIsnLAogICAgICAgIGljb246ICdkb2N1bWVudCcKICAgICAgfQogICAgfSwgewogICAgICBuYW1lOiAndmlkZW8nLAogICAgICBwYXRoOiAnaHR0cHM6Ly93d3cubWFjcm96aGVuZy5jb20vbWFsbC9jYXRhbG9nL21hbGxfdmlkZW8uaHRtbCcsCiAgICAgIG1ldGE6IHsKICAgICAgICB0aXRsZTogJ+inhumikeaVmeeoiycsCiAgICAgICAgaWNvbjogJ3ZpZGVvJwogICAgICB9CiAgICB9XQogIH1dLAogIGFkZFJvdXRlczogW10KfTsKY29uc3QgbXV0YXRpb25zID0gewogIFNFVF9ST1VURVM6IChzdGF0ZSwgcm91dGVzKSA9PiB7CiAgICAvLyBjb25zb2xlLmxvZygnYWRkJywgcm91dGVzKQogICAgc3RhdGUuYWRkUm91dGVzID0gcm91dGVzOwoKICAgIC8vIHN0YXRlLnJvdXRlcyA9IGNvbnN0YW50Um91dGVzLmNvbmNhdChyb3V0ZXMpCiAgfSwKCiAgU0VUX1JPVVRFUlM6IChzdGF0ZSwgcm91dGVycykgPT4gewogICAgLy8gY29uc29sZS5sb2cocm91dGVzKQogICAgLy8gY29uc29sZS5sb2coc3RhdGUucm91dGVycykKICAgIHN0YXRlLnJvdXRlcyA9IHJvdXRlcnM7CiAgfQogIC8vIC8v5riF56m66I+c5Y2V5p2D6ZmQCiAgLy8gY2xlYXJSb3V0ZXM6ICgpID0+IHsKICAvLyAgIGNvbnNvbGUubG9nKCLmuIXpmaQiKTsKICAvLyAgIGNvbW1pdCgnU0VUX1JPVVRFUycsIFtdKQogIC8vIH0KfTsKCmNvbnN0IGFjdGlvbnMgPSB7CiAgYXN5bmMgZ2VuZXJhdGVSb3V0ZXMoX3JlZiwgcm9sZXMpIHsKICAgIGxldCB7CiAgICAgIGNvbW1pdAogICAgfSA9IF9yZWY7CiAgICAvL+aVtOWQiOWQjueahAogICAgY29uc3QgewogICAgICBtZW51cwogICAgfSA9IHJvbGVzOwogICAgLy8gY29uc29sZS5sb2cobWVudXMpCiAgICBjb25zdCBhY2Nlc3NlZFJvdXRlcnMgPSBhc3luY1JvdXRlck1hcC5maWx0ZXIodiA9PiB7CiAgICAgIC8vYWRtaW7luJDlj7fnm7TmjqXov5Tlm57miYDmnInoj5zljZUKICAgICAgLy8gaWYodXNlcm5hbWU9PT0nYWRtaW4nKSByZXR1cm4gdHJ1ZTsKICAgICAgaWYgKGhhc1Blcm1pc3Npb24obWVudXMsIHYpKSB7CiAgICAgICAgaWYgKHYuY2hpbGRyZW4gJiYgdi5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgICB2LmNoaWxkcmVuID0gdi5jaGlsZHJlbi5maWx0ZXIoY2hpbGQgPT4gewogICAgICAgICAgICBpZiAoaGFzUGVybWlzc2lvbihtZW51cywgY2hpbGQpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHY7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB2OwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9KTsKICAgIC8v5a+56I+c5Y2V6L+b6KGM5o6S5bqPCiAgICAvLyBzb3J0Um91dGVycyhhY2Nlc3NlZFJvdXRlcnMpCiAgICBjb21taXQoJ1NFVF9ST1VURVJTJywgYWNjZXNzZWRSb3V0ZXJzKTsKCiAgICAvLyDljp/mnKznmoQKICAgIGNvbnN0IGFzeW5jUm91dGVyID0gYXdhaXQgZ2V0TWVudSgpOwogICAgLy8gY29uc29sZS5sb2coJ2FzeW5jUm91dGVyJywgYXN5bmNSb3V0ZXIpCiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgIC8vIGNvbnN0IHRtcCA9IGFzeW5jUm91dGVyLmRhdGEucGVybWlzc2lvbkxpc3QKICAgICAgY29uc3QgYWNjZXNzZWRSb3V0ZXMgPSBmaWx0ZXJBc3luY1JvdXRlcihhc3luY1JvdXRlcik7CiAgICAgIGNvbW1pdCgnU0VUX1JPVVRFUycsIGFjY2Vzc2VkUm91dGVzKTsKICAgICAgcmVzb2x2ZShhY2Nlc3NlZFJvdXRlcyk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlLAogIG11dGF0aW9ucywKICBhY3Rpb25zCn07"},{"version":3,"names":["getMenu","routes","asyncRouterMap","debounce","timer","callback","time","clearTimeout","setTimeout","getMenuList","menuList","window","sessionStorage","getItem","then","res","setItem","hasPermission","menu","route","name","currMenu","title","meta","icon","hidden","sort","undefined","filterAsyncRouter","accessedRouters","filter","component","resolve","require","children","length","e","console","log","state","path","redirect","addRoutes","mutations","SET_ROUTES","SET_ROUTERS","routers","actions","generateRoutes","_ref","roles","commit","menus","v","child","asyncRouter","Promise","accessedRoutes","namespaced"],"sources":["C:/Users/DIO/Desktop/云统战/GDOUunited/src/store/modules/permission.js"],"sourcesContent":["import { getMenu } from '@/api/user'\nimport { routes } from '@/router/index'\nimport { asyncRouterMap } from '@/router/index'\n// import Layout from '@/views/layout/Layout'\n\n//定时器\nconst debounce = (() => {\n  let timer = null //接受定时器\n  return (callback, time) => {\n    timer && clearTimeout(timer);\n    timer = setTimeout(callback, time);\n  };\n})();\n\n//请求获取菜单列表\nfunction getMenuList() {\n  var menuList = window.sessionStorage.getItem('menuList')\n  if (menuList == null) {\n    getMenu().then((res) => {\n      menuList = res\n      window.sessionStorage.setItem('menuList', menuList)\n      return menuList\n    });\n  }\n  return menuList\n}\n\n//判断是否有权限访问该菜单\nfunction hasPermission(menu, route) {\n  if (route.name) {\n    let currMenu = {}\n    //防抖\n    debounce(() => {\n      currMenu = getMenuList()\n    }, 1000);\n    if (currMenu != null) {\n      //设置菜单的标题、图标和可见性\n      if (currMenu.title != null && currMenu.title !== '') {\n        route.meta.title = currMenu.title\n      }\n      if (currMenu.icon != null && currMenu.title !== '') {\n        route.meta.icon = currMenu.icon\n      }\n      if (currMenu.hidden != null) {\n        route.hidden = currMenu.hidden !== 0\n      }\n      if (currMenu.sort != null && currMenu.sort !== '') {\n        route.sort = currMenu.sort\n      }\n      return true\n    } else {\n      route.sort = 0\n      if (route.hidden !== undefined && route.hidden === true) {\n        route.sort = -1\n        return true\n      } else {\n        return false\n      }\n    }\n  } else {\n    return true\n  }\n}\n\nfunction filterAsyncRouter(asyncRouterMap) {\n  // 遍历后台传来的路由字符串component，转换为组件对象 动态路由生成器permission.js\n  try {\n    const accessedRouters = asyncRouterMap.filter((route) => {\n      if (route.icon) {\n        if (route.icon === 'Layout') {\n          // Layout组件特殊处理\n          //route.component = Layout\n        } else {\n          const component = route.icon\n          route.icon = (resolve) => {\n            require(['@/views' + component + '.vue'], resolve)\n          }\n        }\n      }\n      if (route.children && route.children.length) {\n        route.children = filterAsyncRouter(route.children)\n      }\n      return true\n    })\n    return accessedRouters\n  } catch (e) {\n    console.log(e)\n  }\n}\n\n\nconst state = {\n  routes: [\n    {\n      path: '/login',\n      component: () => import('@/pages/workplace/menu/list'),\n      hidden: true,\n    },\n    {\n      path: '/404',\n      component: () => import('@/pages/workplace/menu/list'),\n      hidden: true,\n    },\n    {\n      path: '',\n      redirect: '/home',\n      meta: { title: '首页', icon: 'home' },\n      children: [\n        {\n          path: 'home',\n          name: 'home',\n          component: () => import('@/pages/workplace/menu/list'),\n          meta: { title: '仪表盘', icon: 'dashboard' },\n        },\n        {\n          name: 'document',\n          path: 'https://www.macrozheng.com',\n          meta: { title: '学习教程', icon: 'document' },\n        },\n        {\n          name: 'video',\n          path: 'https://www.macrozheng.com/mall/catalog/mall_video.html',\n          meta: { title: '视频教程', icon: 'video' },\n        },\n      ],\n    },\n  ],\n  addRoutes: [],\n}\nconst mutations = {\n  SET_ROUTES: (state, routes) => {\n    // console.log('add', routes)\n    state.addRoutes = routes\n\n    // state.routes = constantRoutes.concat(routes)\n  },\n  SET_ROUTERS: (state, routers) => {\n    // console.log(routes)\n    // console.log(state.routers)\n    state.routes = routers\n  },\n  // //清空菜单权限\n  // clearRoutes: () => {\n  //   console.log(\"清除\");\n  //   commit('SET_ROUTES', [])\n  // }\n}\n\nconst actions = {\n  async generateRoutes({ commit }, roles) {\n    //整合后的\n    const { menus } = roles\n    // console.log(menus)\n    const accessedRouters = asyncRouterMap.filter((v) => {\n      //admin帐号直接返回所有菜单\n      // if(username==='admin') return true;\n      if (hasPermission(menus, v)) {\n        if (v.children && v.children.length > 0) {\n          v.children = v.children.filter((child) => {\n            if (hasPermission(menus, child)) {\n              return child\n            }\n            return false\n          })\n          return v\n        } else {\n          return v\n        }\n      }\n      return false\n    })\n    //对菜单进行排序\n    // sortRouters(accessedRouters)\n    commit('SET_ROUTERS', accessedRouters)\n\n    // 原本的\n    const asyncRouter = await getMenu()\n    // console.log('asyncRouter', asyncRouter)\n    return new Promise((resolve) => {\n      // const tmp = asyncRouter.data.permissionList\n      const accessedRoutes = filterAsyncRouter(asyncRouter)\n      commit('SET_ROUTES', accessedRoutes)\n      resolve(accessedRoutes)\n    })\n  },\n\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n}\n"],"mappings":"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"}]}