{"remainingRequest":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\src\\views\\ums\\menu\\components\\MenuDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\src\\views\\ums\\menu\\components\\MenuDetail.vue","mtime":1711087300000},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\babel.config.js","mtime":1710918909587},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710918915895},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\babel-loader\\lib\\index.js","mtime":1710918914227},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710918915895},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\vue-loader\\lib\\index.js","mtime":1710918931244}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zaGlmdC5qcyI7CmltcG9ydCB7IGZldGNoTGlzdCwgY3JlYXRlTWVudSwgdXBkYXRlTWVudSwgZ2V0TWVudSB9IGZyb20gJ0AvYXBpL21lbnUnOwpjb25zdCBkZWZhdWx0TWVudSA9IHsKICB0aXRsZTogJycsCiAgcGFyZW50SWQ6IDAsCiAgbmFtZTogJycsCiAgaWNvbjogJycsCiAgaGlkZGVuOiAwLAogIHNvcnQ6IDAKfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNZW51RGV0YWlsIiwKICBwcm9wczogewogICAgaXNFZGl0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVudTogT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE1lbnUpLAogICAgICBzZWxlY3RNZW51TGlzdDogW10sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdGl0bGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXoj5zljZXlkI3np7AnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAyLAogICAgICAgICAgbWF4OiAxNDAsCiAgICAgICAgICBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDIg5YiwIDE0MCDkuKrlrZfnrKYnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWJjeerr+WQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDIsCiAgICAgICAgICBtYXg6IDE0MCwKICAgICAgICAgIG1lc3NhZ2U6ICfplb/luqblnKggMiDliLAgMTQwIOS4quWtl+espicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBpY29uOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5YmN56uv5Zu+5qCHJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMiwKICAgICAgICAgIG1heDogMTQwLAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puWcqCAyIOWIsCAxNDAg5Liq5a2X56ymJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgIGdldE1lbnUodGhpcy4kcm91dGUucXVlcnkuaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMubWVudSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5tZW51ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE1lbnUpOwogICAgfQogICAgdGhpcy5nZXRTZWxlY3RNZW51TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0U2VsZWN0TWVudUxpc3QoKSB7CiAgICAgIGZldGNoTGlzdCgwLCB7CiAgICAgICAgcGFnZVNpemU6IDEwMCwKICAgICAgICBwYWdlTnVtOiAxCiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuc2VsZWN0TWVudUxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgICAgdGhpcy5zZWxlY3RNZW51TGlzdC51bnNoaWZ0KHsKICAgICAgICAgIGlkOiAwLAogICAgICAgICAgdGl0bGU6ICfml6DkuIrnuqfoj5zljZUnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3VibWl0KGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuaPkOS6pOaVsOaNricsICfmj5DnpLonLCB7CiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRWRpdCkgewogICAgICAgICAgICAgIHVwZGF0ZU1lbnUodGhpcy4kcm91dGUucXVlcnkuaWQsIHRoaXMubWVudSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+S/ruaUueaIkOWKnycsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmJhY2soKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjcmVhdGVNZW51KHRoaXMubWVudSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oZm9ybU5hbWUpOwogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmj5DkuqTmiJDlip8nLAogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5iYWNrKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ+mqjOivgeWksei0pScsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0Rm9ybShmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLm1lbnUgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0TWVudSk7CiAgICAgIHRoaXMuZ2V0U2VsZWN0TWVudUxpc3QoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";AAqCA;AAEA;EACAA;EACAC;EACAC;EACAC;EACAC;EACAC;AACA;AACA;EACAH;EACAI;IACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;QACAb,QACA;UAAAc;UAAAC;UAAAC;QAAA,GACA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA,EACA;QACAd,OACA;UAAAY;UAAAC;UAAAC;QAAA,GACA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA,EACA;QACAb,OACA;UAAAW;UAAAC;UAAAC;QAAA,GACA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA;MAEA;IACA;EACA;EACAG;IACA;MACAC;QACA;MACA;IACA;MACA;IACA;IACA;EACA;EACAC;IACAC;MACAC;QAAAC;QAAAC;MAAA;QACA;QACA;UAAAC;UAAA1B;QAAA;MACA;IACA;IACA2B;MACA;QACA;UACA;YACAC;YACAC;YACArB;UACA;YACA;cACAsB;gBACA;kBACAf;kBACAP;kBACAuB;gBACA;gBACA;cACA;YACA;cACAC;gBACA;gBACA;gBACA;kBACAjB;kBACAP;kBACAuB;gBACA;gBACA;cACA;YACA;UACA;QAEA;UACA;YACAhB;YACAP;YACAuB;UACA;UACA;QACA;MACA;IACA;IACAE;MACA;MACA;MACA;IACA;EACA;AACA","names":["title","parentId","name","icon","hidden","sort","props","isEdit","type","default","data","menu","selectMenuList","rules","required","message","trigger","min","max","created","getMenu","methods","getSelectMenuList","fetchList","pageSize","pageNum","id","onSubmit","confirmButtonText","cancelButtonText","updateMenu","duration","createMenu","resetForm"],"sourceRoot":"src/views/ums/menu/components","sources":["MenuDetail.vue"],"sourcesContent":["<template>\n  <el-card class=\"form-container\" shadow=\"never\">\n    <el-form :model=\"menu\" :rules=\"rules\" ref=\"menuFrom\" label-width=\"150px\">\n      <el-form-item label=\"菜单名称：\" prop=\"title\">\n        <el-input v-model=\"menu.title\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"上级菜单：\">\n        <el-select v-model=\"menu.parentId\" placeholder=\"请选择菜单\">\n          <el-option v-for=\"item in selectMenuList\" :key=\"item.id\" :label=\"item.title\" :value=\"item.id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"前端名称：\" prop=\"name\">\n        <el-input v-model=\"menu.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"前端图标：\" prop=\"icon\">\n        <el-input v-model=\"menu.icon\" style=\"width: 80%\"></el-input>\n        <!-- <svg-icon style=\"margin-left: 8px\" :icon-class=\"menu.icon\"></svg-icon> -->\n      </el-form-item>\n      <el-form-item label=\"是否显示：\">\n        <el-radio-group v-model=\"menu.hidden\">\n          <el-radio :label=\"0\">是</el-radio>\n          <el-radio :label=\"1\">否</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"排序：\">\n        <el-input v-model=\"menu.sort\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit('menuFrom')\">提交</el-button>\n        <el-button v-if=\"!isEdit\" @click=\"resetForm('menuFrom')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n</template>\n\n<script>\nimport { fetchList, createMenu, updateMenu, getMenu } from '@/api/menu';\n\nconst defaultMenu = {\n  title: '',\n  parentId: 0,\n  name: '',\n  icon: '',\n  hidden: 0,\n  sort: 0\n};\nexport default {\n  name: \"MenuDetail\",\n  props: {\n    isEdit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      menu: Object.assign({}, defaultMenu),\n      selectMenuList: [],\n      rules: {\n        title: [\n          { required: true, message: '请输入菜单名称', trigger: 'blur' },\n          { min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur' }\n        ],\n        name: [\n          { required: true, message: '请输入前端名称', trigger: 'blur' },\n          { min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur' }\n        ],\n        icon: [\n          { required: true, message: '请输入前端图标', trigger: 'blur' },\n          { min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  created () {\n    if (this.isEdit) {\n      getMenu(this.$route.query.id).then(response => {\n        this.menu = response.data;\n      });\n    } else {\n      this.menu = Object.assign({}, defaultMenu);\n    }\n    this.getSelectMenuList();\n  },\n  methods: {\n    getSelectMenuList () {\n      fetchList(0, { pageSize: 100, pageNum: 1 }).then(response => {\n        this.selectMenuList = response.data.list;\n        this.selectMenuList.unshift({ id: 0, title: '无上级菜单' });\n      });\n    },\n    onSubmit (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.$confirm('是否提交数据', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            if (this.isEdit) {\n              updateMenu(this.$route.query.id, this.menu).then(response => {\n                this.$message({\n                  message: '修改成功',\n                  type: 'success',\n                  duration: 1000\n                });\n                this.$router.back();\n              });\n            } else {\n              createMenu(this.menu).then(response => {\n                this.$refs[formName].resetFields();\n                this.resetForm(formName);\n                this.$message({\n                  message: '提交成功',\n                  type: 'success',\n                  duration: 1000\n                });\n                this.$router.back();\n              });\n            }\n          });\n\n        } else {\n          this.$message({\n            message: '验证失败',\n            type: 'error',\n            duration: 1000\n          });\n          return false;\n        }\n      });\n    },\n    resetForm (formName) {\n      this.$refs[formName].resetFields();\n      this.menu = Object.assign({}, defaultMenu);\n      this.getSelectMenuList();\n    },\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}