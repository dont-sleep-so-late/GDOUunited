{"remainingRequest":"C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\src\\utils\\request.js","mtime":1710321476206},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\babel.config.js","mtime":1679218944000},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKCi8vIOWIm+W7umF4aW9z5a6e5L6LCmNvbnN0IHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIC8vIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksIC8vIGFwaSDnmoQgYmFzZV91cmwKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MjIyJywKICB0aW1lb3V0OiAyMDAwMCAvLyDor7fmsYLotoXml7bml7bpl7QKICAvLyBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04JyB9LAp9KTsKCi8vIHJlcXVlc3Tmi6bmiKrlmagKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHsKICBpZiAoc3RvcmUuZ2V0dGVycy50b2tlbikgewogICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGdldFRva2VuKCk7IC8vIOiuqeavj+S4quivt+axguaQuuW4puiHquWumuS5iXRva2VuIOivt+agueaNruWunumZheaDheWGteiHquihjOS/ruaUuQogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZXJyb3IgPT4gewogIC8vIERvIHNvbWV0aGluZyB3aXRoIHJlcXVlc3QgZXJyb3IKICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIGZvciBkZWJ1ZwogIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CgovLyByZXNwb25zZSDmi6bmiKrlmagKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlc3BvbnNlID0+IHsKICAvKioNCiAgICogY29kZeS4uumdnjIwMDAw5piv5oqb6ZSZIOWPr+e7k+WQiOiHquW3seS4muWKoei/m+ihjOS/ruaUuQ0KICAgKi8KICBjb25zdCByZXMgPSByZXNwb25zZS5kYXRhOwogIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogIC8vIGRlYnVnZ2VyCiAgaWYgKHJlcy5jb2RlICE9PSAyMDAgJiYgcmVzLmNvZGUgIT09IDIwMDAwICYmIHJlcy5jb2RlICE9PSA0MDAxMikgewogICAgX01lc3NhZ2UoewogICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgZHVyYXRpb246IDUgKiAxMDAwCiAgICB9KTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnZXJyb3InKTsKICB9IGVsc2UgaWYgKHJlcy5jb2RlID09PSA0MDAxMikgewogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdlcnJvcicpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9Cn0sIGVycm9yID0+IHsKICBjb25zb2xlLmxvZygnZXJyJyArIGVycm9yKTsgLy8gZm9yIGRlYnVnCiAgX01lc3NhZ2UoewogICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgIHR5cGU6ICdlcnJvcicsCiAgICBkdXJhdGlvbjogNSAqIDEwMDAKICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"names":["axios","store","getToken","service","create","baseURL","timeout","interceptors","request","use","config","getters","token","headers","error","console","log","Promise","reject","response","res","data","code","_Message","message","type","duration"],"sources":["C:/Users/DIO/Desktop/云统战/qianduantongzhan/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport { Message, MessageBox } from 'element-ui'\r\nimport store from '../store'\r\nimport { getToken } from '@/utils/auth'\r\n\r\n// 创建axios实例\r\nconst service = axios.create({\r\n  // baseURL: process.env.VUE_APP_BASE_API, // api 的 base_url\r\n  baseURL: 'http://localhost:8222',\r\n  timeout: 20000, // 请求超时时间\r\n  // headers: { 'Content-Type': 'application/json;charset=utf-8' },\r\n})\r\n\r\n// request拦截器\r\nservice.interceptors.request.use(\r\n  (config) => {\r\n    if (store.getters.token) {\r\n      config.headers['Authorization'] = getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\r\n    }\r\n    return config\r\n  },\r\n  (error) => {\r\n    // Do something with request error\r\n    console.log(error) // for debug\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\n// response 拦截器\r\nservice.interceptors.response.use(\r\n  (response) => {\r\n    /**\r\n     * code为非20000是抛错 可结合自己业务进行修改\r\n     */\r\n    const res = response.data\r\n    // console.log(response)\r\n    // debugger\r\n    if (res.code !== 200 && res.code !== 20000 && res.code !== 40012) {\r\n      Message({\r\n        message: res.message,\r\n        type: 'error',\r\n        duration: 5 * 1000,\r\n      })\r\n      return Promise.reject('error')\r\n    } else if (res.code === 40012) {\r\n      return Promise.reject('error')\r\n    } else {\r\n      return response.data\r\n    }\r\n  },\r\n  (error) => {\r\n    console.log('err' + error) // for debug\r\n    Message({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000,\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default service\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAOC,KAAK,MAAM,UAAU;AAC5B,SAASC,QAAQ,QAAQ,cAAc;;AAEvC;AACA,MAAMC,OAAO,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC3B;EACAC,OAAO,EAAE,uBAAuB;EAChCC,OAAO,EAAE,KAAK,CAAE;EAChB;AACF,CAAC,CAAC;;AAEF;AACAH,OAAO,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC7BC,MAAM,IAAK;EACV,IAAIT,KAAK,CAACU,OAAO,CAACC,KAAK,EAAE;IACvBF,MAAM,CAACG,OAAO,CAAC,eAAe,CAAC,GAAGX,QAAQ,EAAE,EAAC;EAC/C;;EACA,OAAOQ,MAAM;AACf,CAAC,EACAI,KAAK,IAAK;EACT;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC;EACnBG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AACvB,CAAC,CACF;;AAED;AACAX,OAAO,CAACI,YAAY,CAACY,QAAQ,CAACV,GAAG,CAC9BU,QAAQ,IAAK;EACZ;AACJ;AACA;EACI,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACzB;EACA;EACA,IAAID,GAAG,CAACE,IAAI,KAAK,GAAG,IAAIF,GAAG,CAACE,IAAI,KAAK,KAAK,IAAIF,GAAG,CAACE,IAAI,KAAK,KAAK,EAAE;IAChEC,QAAA,CAAQ;MACNC,OAAO,EAAEJ,GAAG,CAACI,OAAO;MACpBC,IAAI,EAAE,OAAO;MACbC,QAAQ,EAAE,CAAC,GAAG;IAChB,CAAC,CAAC;IACF,OAAOT,OAAO,CAACC,MAAM,CAAC,OAAO,CAAC;EAChC,CAAC,MAAM,IAAIE,GAAG,CAACE,IAAI,KAAK,KAAK,EAAE;IAC7B,OAAOL,OAAO,CAACC,MAAM,CAAC,OAAO,CAAC;EAChC,CAAC,MAAM;IACL,OAAOC,QAAQ,CAACE,IAAI;EACtB;AACF,CAAC,EACAP,KAAK,IAAK;EACTC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGF,KAAK,CAAC,EAAC;EAC3BS,QAAA,CAAQ;IACNC,OAAO,EAAEV,KAAK,CAACU,OAAO;IACtBC,IAAI,EAAE,OAAO;IACbC,QAAQ,EAAE,CAAC,GAAG;EAChB,CAAC,CAAC;EACF,OAAOT,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CAAC,CACF;AAED,eAAeX,OAAO"}]}