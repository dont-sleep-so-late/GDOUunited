{"remainingRequest":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\src\\utils\\send.js","dependencies":[{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\src\\utils\\send.js","mtime":1711087300000},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\babel.config.js","mtime":1710918909587},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710918915895},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\GDOUunited\\node_modules\\babel-loader\\lib\\index.js","mtime":1710918914227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlQm94MiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLWJveC5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9NZXNzYWdlQm94IGZyb20gImVsZW1lbnQtdWkvbGliL21lc3NhZ2UtYm94IjsKaW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CgovLyBjcmVhdGUgYW4gYXhpb3MgaW5zdGFuY2UKY29uc3Qgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwKICAvLyB1cmwgPSBiYXNlIHVybCArIHJlcXVlc3QgdXJsCiAgdGltZW91dDogNTAwMDAgLy8gcmVxdWVzdCB0aW1lb3V0Cn0pOwoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHsKICBpZiAoc3RvcmUuZ2V0dGVycy50b2tlbikgewogICAgLy8gY29uZmlnLmhlYWRlcnNbJ1gtVG9rZW4nXSA9IGdldFRva2VuKCkKICAgIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBnZXRUb2tlbigpOyAvLyDorqnmr4/kuKror7fmsYLmkLrluKboh6rlrprkuYl0b2tlbiDor7fmoLnmja7lrp7pmYXmg4XlhrXoh6rooYzkv67mlLkKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGVycm9yID0+IHsKICAvLyBkbyBzb21ldGhpbmcgd2l0aCByZXF1ZXN0IGVycm9yCiAgY29uc29sZS5sb2coZXJyb3IpOyAvLyBmb3IgZGVidWcKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlc3BvbnNlID0+IHsKICBjb25zdCByZXMgPSByZXNwb25zZS5kYXRhOwogIGlmIChyZXMuc3RhdGUgPT09IDIwMCkgewogICAgcmV0dXJuIHJlczsKICB9CiAgaWYgKHJlcy5vaykgewogICAgcmV0dXJuIHJlcy50OwogIH0KICBpZiAocmVzLm1lc3MgPT09ICfmn6Xor6LmiJDlip8nKSB7CiAgICByZXR1cm4gcmVzOwogIH0KICBpZiAocmVzLm9rKSB7CiAgICByZXR1cm4gcmVzLmRhdGE7CiAgfQogIGlmIChyZXMuY29kZSAhPT0gMjAwICYmIHJlcy5jb2RlICE9PSAyMDAwMCkgewogICAgX01lc3NhZ2UoewogICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSB8fCAnRXJyb3InLAogICAgICB0eXBlOiAnZXJyb3InLAogICAgICBkdXJhdGlvbjogNSAqIDEwMDAKICAgIH0pOwoKICAgIC8vIDUwMDA4OiBJbGxlZ2FsIHRva2VuOyA1MDAxMjogT3RoZXIgY2xpZW50cyBsb2dnZWQgaW47IDUwMDE0OiBUb2tlbiBleHBpcmVkOwogICAgaWYgKHJlcy5jb2RlID09PSA1MDAwOCB8fCByZXMuY29kZSA9PT0gNTAwMTIgfHwgcmVzLmNvZGUgPT09IDUwMDE0KSB7CiAgICAgIC8vIHRvIHJlLWxvZ2luCiAgICAgIF9NZXNzYWdlQm94LmNvbmZpcm0oJ1lvdSBoYXZlIGJlZW4gbG9nZ2VkIG91dCwgeW91IGNhbiBjYW5jZWwgdG8gc3RheSBvbiB0aGlzIHBhZ2UsIG9yIGxvZyBpbiBhZ2FpbicsICdDb25maXJtIGxvZ291dCcsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1JlLUxvZ2luJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnQ2FuY2VsJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ3VzZXIvcmVzZXRUb2tlbicpLnRoZW4oKCkgPT4gewogICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihyZXMubWVzc2FnZSB8fCAnRXJyb3InKSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiByZXM7CiAgfQp9LCBlcnJvciA9PiB7CiAgY29uc29sZS5sb2coJ2VycicgKyBlcnJvcik7IC8vIGZvciBkZWJ1ZwogIF9NZXNzYWdlKHsKICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICB0eXBlOiAnZXJyb3InLAogICAgZHVyYXRpb246IDUgKiAxMDAwCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"names":["axios","store","getToken","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","getters","token","headers","error","console","log","Promise","reject","response","res","data","state","ok","t","mess","code","_Message","message","type","duration","_MessageBox","confirm","confirmButtonText","cancelButtonText","then","dispatch","location","reload","Error"],"sources":["C:/Users/DIO/Desktop/云统战/GDOUunited/src/utils/send.js"],"sourcesContent":["import axios from 'axios'\r\nimport { MessageBox, Message } from 'element-ui'\r\nimport store from '@/store'\r\nimport { getToken } from '@/utils/auth'\r\n\r\n// create an axios instance\r\nconst service = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_API, // url = base url + request url\r\n  timeout: 50000, // request timeout\r\n})\r\n\r\nservice.interceptors.request.use(\r\n  (config) => {\r\n    if (store.getters.token) {\r\n      // config.headers['X-Token'] = getToken()\r\n      config.headers['Authorization'] = getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\r\n    }\r\n    return config\r\n  },\r\n  (error) => {\r\n    // do something with request error\r\n    console.log(error) // for debug\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nservice.interceptors.response.use(\r\n  (response) => {\r\n    const res = response.data\r\n    if (res.state === 200) {\r\n      return res\r\n    }\r\n    if (res.ok) {\r\n      return res.t\r\n    }\r\n    if (res.mess === '查询成功') {\r\n      return res\r\n    }\r\n    if (res.ok) {\r\n      return res.data\r\n    }\r\n    if (res.code !== 200 && res.code !== 20000) {\r\n      Message({\r\n        message: res.message || 'Error',\r\n        type: 'error',\r\n        duration: 5 * 1000,\r\n      })\r\n\r\n      // 50008: Illegal token; 50012: Other clients logged in; 50014: Token expired;\r\n      if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\r\n        // to re-login\r\n        MessageBox.confirm(\r\n          'You have been logged out, you can cancel to stay on this page, or log in again',\r\n          'Confirm logout',\r\n          {\r\n            confirmButtonText: 'Re-Login',\r\n            cancelButtonText: 'Cancel',\r\n            type: 'warning',\r\n          }\r\n        ).then(() => {\r\n          store.dispatch('user/resetToken').then(() => {\r\n            location.reload()\r\n          })\r\n        })\r\n      }\r\n\r\n      return Promise.reject(new Error(res.message || 'Error'))\r\n    } else {\r\n      return res\r\n    }\r\n  },\r\n  (error) => {\r\n    console.log('err' + error) // for debug\r\n    Message({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000,\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default service\r\n"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,QAAQ,QAAQ,cAAc;;AAEvC;AACA,MAAMC,OAAO,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC3BC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,gBAAgB;EAAE;EACvCC,OAAO,EAAE,KAAK,CAAE;AAClB,CAAC,CAAC;;AAEFN,OAAO,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG,CAC7BC,MAAM,IAAK;EACV,IAAIZ,KAAK,CAACa,OAAO,CAACC,KAAK,EAAE;IACvB;IACAF,MAAM,CAACG,OAAO,CAAC,eAAe,CAAC,GAAGd,QAAQ,EAAE,EAAC;EAC/C;;EACA,OAAOW,MAAM;AACf,CAAC,EACAI,KAAK,IAAK;EACT;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC;EACnB,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CAAC,CACF;AAEDd,OAAO,CAACO,YAAY,CAACY,QAAQ,CAACV,GAAG,CAC9BU,QAAQ,IAAK;EACZ,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACzB,IAAID,GAAG,CAACE,KAAK,KAAK,GAAG,EAAE;IACrB,OAAOF,GAAG;EACZ;EACA,IAAIA,GAAG,CAACG,EAAE,EAAE;IACV,OAAOH,GAAG,CAACI,CAAC;EACd;EACA,IAAIJ,GAAG,CAACK,IAAI,KAAK,MAAM,EAAE;IACvB,OAAOL,GAAG;EACZ;EACA,IAAIA,GAAG,CAACG,EAAE,EAAE;IACV,OAAOH,GAAG,CAACC,IAAI;EACjB;EACA,IAAID,GAAG,CAACM,IAAI,KAAK,GAAG,IAAIN,GAAG,CAACM,IAAI,KAAK,KAAK,EAAE;IAC1CC,QAAA,CAAQ;MACNC,OAAO,EAAER,GAAG,CAACQ,OAAO,IAAI,OAAO;MAC/BC,IAAI,EAAE,OAAO;MACbC,QAAQ,EAAE,CAAC,GAAG;IAChB,CAAC,CAAC;;IAEF;IACA,IAAIV,GAAG,CAACM,IAAI,KAAK,KAAK,IAAIN,GAAG,CAACM,IAAI,KAAK,KAAK,IAAIN,GAAG,CAACM,IAAI,KAAK,KAAK,EAAE;MAClE;MACAK,WAAA,CAAWC,OAAO,CAChB,gFAAgF,EAChF,gBAAgB,EAChB;QACEC,iBAAiB,EAAE,UAAU;QAC7BC,gBAAgB,EAAE,QAAQ;QAC1BL,IAAI,EAAE;MACR,CAAC,CACF,CAACM,IAAI,CAAC,MAAM;QACXrC,KAAK,CAACsC,QAAQ,CAAC,iBAAiB,CAAC,CAACD,IAAI,CAAC,MAAM;UAC3CE,QAAQ,CAACC,MAAM,EAAE;QACnB,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;IAEA,OAAOrB,OAAO,CAACC,MAAM,CAAC,IAAIqB,KAAK,CAACnB,GAAG,CAACQ,OAAO,IAAI,OAAO,CAAC,CAAC;EAC1D,CAAC,MAAM;IACL,OAAOR,GAAG;EACZ;AACF,CAAC,EACAN,KAAK,IAAK;EACTC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGF,KAAK,CAAC,EAAC;EAC3Ba,QAAA,CAAQ;IACNC,OAAO,EAAEd,KAAK,CAACc,OAAO;IACtBC,IAAI,EAAE,OAAO;IACbC,QAAQ,EAAE,CAAC,GAAG;EAChB,CAAC,CAAC;EACF,OAAOb,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CAAC,CACF;AAED,eAAed,OAAO"}]}