{"remainingRequest":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\utils\\gain.js","dependencies":[{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\utils\\gain.js","mtime":1709140692712},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\babel.config.js","mtime":1679218944000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlQm94MiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLWJveC5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9NZXNzYWdlQm94IGZyb20gImVsZW1lbnQtdWkvbGliL21lc3NhZ2UtYm94IjsKaW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CgovLyBjcmVhdGUgYW4gYXhpb3MgaW5zdGFuY2UKY29uc3Qgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwKICB0aW1lb3V0OiA1MDAwMCAvLyByZXF1ZXN0IHRpbWVvdXQKfSk7CgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShjb25maWcgPT4gewogIGlmIChzdG9yZS5nZXR0ZXJzLnRva2VuKSB7CiAgICAvLyBjb25maWcuaGVhZGVyc1snWC1Ub2tlbiddID0gZ2V0VG9rZW4oKQogICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGdldFRva2VuKCk7IC8vIOiuqeavj+S4quivt+axguaQuuW4puiHquWumuS5iXRva2VuIOivt+agueaNruWunumZheaDheWGteiHquihjOS/ruaUuQogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZXJyb3IgPT4gewogIC8vIGRvIHNvbWV0aGluZyB3aXRoIHJlcXVlc3QgZXJyb3IKICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIGZvciBkZWJ1ZwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UocmVzcG9uc2UgPT4gewogIGNvbnN0IHJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgaWYgKHJlcy5zdGF0ZSA9PT0gMjAwKSB7CiAgICByZXR1cm4gcmVzOwogIH0KICBpZiAocmVzLm1lc3MgPT09IG51bGwpIHsKICAgIHJldHVybiByZXM7CiAgfQogIGlmIChyZXMubWVzcyA9PT0gJ+afpeivouaIkOWKnycpIHsKICAgIHJldHVybiByZXM7CiAgfQogIGlmIChyZXMubWVzcyA9PT0gJ+afpeivouaJgOacieaWh+eroOaIkOWKnycgfHwgcmVzLm1lc3MgPT09ICfmt7vliqDmlofnq6DmiJDlip8nIHx8IHJlcy5tZXNzID09PSAn5Yig6Zmk5paH56ug5oiQ5YqfJyB8fCByZXMubWVzcyA9PT0gJ+S/ruaUueaWh+eroOaIkOWKnycpIHsKICAgIHJldHVybiByZXM7CiAgfQogIGlmIChyZXMubWVzcyA9PT0gJ+WxleekuuenkeaKgOaIkOWKn+WbvueJh+aIkOWKnycgfHwgcmVzLm1lc3MgPT09ICdzdHJpbmcnKSB7CiAgICByZXR1cm4gcmVzOwogIH0KICBpZiAocmVzLmNvZGUgIT09IDIwMCAmJiByZXMuY29kZSAhPT0gMjAwMDApIHsKICAgIF9NZXNzYWdlKHsKICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UgfHwgJ0Vycm9yJywKICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgZHVyYXRpb246IDUgKiAxMDAwCiAgICB9KTsKCiAgICAvLyA1MDAwODogSWxsZWdhbCB0b2tlbjsgNTAwMTI6IE90aGVyIGNsaWVudHMgbG9nZ2VkIGluOyA1MDAxNDogVG9rZW4gZXhwaXJlZDsKICAgIGlmIChyZXMuY29kZSA9PT0gNTAwMDggfHwgcmVzLmNvZGUgPT09IDUwMDEyIHx8IHJlcy5jb2RlID09PSA1MDAxNCkgewogICAgICAvLyB0byByZS1sb2dpbgogICAgICBfTWVzc2FnZUJveC5jb25maXJtKCdZb3UgaGF2ZSBiZWVuIGxvZ2dlZCBvdXQsIHlvdSBjYW4gY2FuY2VsIHRvIHN0YXkgb24gdGhpcyBwYWdlLCBvciBsb2cgaW4gYWdhaW4nLCAnQ29uZmlybSBsb2dvdXQnLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdSZS1Mb2dpbicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyL3Jlc2V0VG9rZW4nKS50aGVuKCgpID0+IHsKICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IocmVzLm1lc3NhZ2UgfHwgJ0Vycm9yJykpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzOwogIH0KfSwgZXJyb3IgPT4gewogIGNvbnNvbGUubG9nKCdlcnInICsgZXJyb3IpOyAvLyBmb3IgZGVidWcKICBfTWVzc2FnZSh7CiAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgdHlwZTogJ2Vycm9yJywKICAgIGR1cmF0aW9uOiA1ICogMTAwMAogIH0pOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCBzZXJ2aWNlOw=="},{"version":3,"names":["axios","store","getToken","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","getters","token","headers","error","console","log","Promise","reject","response","res","data","state","mess","code","_Message","message","type","duration","_MessageBox","confirm","confirmButtonText","cancelButtonText","then","dispatch","location","reload","Error"],"sources":["C:/Users/86198/Desktop/qianduantongzhan/src/utils/gain.js"],"sourcesContent":["import axios from 'axios'\r\nimport { MessageBox, Message } from 'element-ui'\r\nimport store from '@/store'\r\nimport { getToken } from '@/utils/auth'\r\n\r\n// create an axios instance\r\nconst service = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_API,\r\n  timeout: 50000, // request timeout\r\n})\r\n\r\nservice.interceptors.request.use(\r\n  (config) => {\r\n    if (store.getters.token) {\r\n      // config.headers['X-Token'] = getToken()\r\n      config.headers['Authorization'] = getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\r\n    }\r\n    return config\r\n  },\r\n  (error) => {\r\n    // do something with request error\r\n    console.log(error) // for debug\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nservice.interceptors.response.use(\r\n  (response) => {\r\n    const res = response.data\r\n    if (res.state === 200) {\r\n      return res\r\n    }\r\n    if (res.mess === null) {\r\n      return res\r\n    }\r\n    if (res.mess === '查询成功') {\r\n      return res\r\n    }\r\n    if (\r\n      res.mess === '查询所有文章成功' ||\r\n      res.mess === '添加文章成功' ||\r\n      res.mess === '删除文章成功' ||\r\n      res.mess === '修改文章成功'\r\n    ) {\r\n      return res\r\n    }\r\n    if (res.mess === '展示科技成功图片成功' || res.mess === 'string') {\r\n      return res\r\n    }\r\n    if (res.code !== 200 && res.code !== 20000) {\r\n      Message({\r\n        message: res.message || 'Error',\r\n        type: 'error',\r\n        duration: 5 * 1000,\r\n      })\r\n\r\n      // 50008: Illegal token; 50012: Other clients logged in; 50014: Token expired;\r\n      if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\r\n        // to re-login\r\n        MessageBox.confirm(\r\n          'You have been logged out, you can cancel to stay on this page, or log in again',\r\n          'Confirm logout',\r\n          {\r\n            confirmButtonText: 'Re-Login',\r\n            cancelButtonText: 'Cancel',\r\n            type: 'warning',\r\n          }\r\n        ).then(() => {\r\n          store.dispatch('user/resetToken').then(() => {\r\n            location.reload()\r\n          })\r\n        })\r\n      }\r\n\r\n      return Promise.reject(new Error(res.message || 'Error'))\r\n    } else {\r\n      return res\r\n    }\r\n  },\r\n  (error) => {\r\n    console.log('err' + error) // for debug\r\n    Message({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000,\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default service\r\n"],"mappings":"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"}]}