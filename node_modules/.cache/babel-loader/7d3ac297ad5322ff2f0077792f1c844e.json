{"remainingRequest":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\pages\\login\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\pages\\login\\login.vue","mtime":1709125797171},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\babel.config.js","mtime":1679218944000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715100000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgc2V0U3VwcG9ydCwgZ2V0U3VwcG9ydCwgc2V0Q29va2llLCBnZXRDb29raWUgfSBmcm9tICdAL3V0aWxzL3N1cHBvcnQnOwppbXBvcnQgeyBpc3ZhbGlkVXNlcm5hbWUgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJzsKaW1wb3J0IGF1dG9maXQgZnJvbSAnYXV0b2ZpdC5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbG9naW4nLAogIG1vdW50ZWQoKSB7CiAgICBhdXRvZml0LmluaXQoKTsKICB9LAogIGRhdGEoKSB7CiAgICBjb25zdCB2YWxpZGF0ZVVzZXJuYW1lID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAoIWlzdmFsaWRVc2VybmFtZSh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeato+ehrueahOeUqOaIt+WQjScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgY29uc3QgdmFsaWRhdGVQYXNzID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodmFsdWUubGVuZ3RoIDwgNikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5a+G56CB5LiN6IO95bCP5LqONuS9jScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJwogICAgICB9LAogICAgICBsb2dpblJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVVc2VybmFtZQogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzcwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBwd2RUeXBlOiAncGFzc3dvcmQnLAogICAgICByZWRpcmVjdDogdW5kZWZpbmVkLAogICAgICBsYWJlbFBvc2l0aW9uOiAibGVmdCIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93UHdkKCkgewogICAgICBpZiAodGhpcy5wd2RUeXBlID09PSAncGFzc3dvcmQnKSB7CiAgICAgICAgdGhpcy5wd2RUeXBlID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wd2RUeXBlID0gJ3Bhc3N3b3JkJzsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUxvZ2luKCkgewogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAvLyBkZWJ1Z2dlcgogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdMb2dpbicsIHRoaXMubG9naW5Gb3JtKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYXBwTWFpbkluZGV4Jyk7CiAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChyb3V0ZSkgewogICAgICAgIHRoaXMucmVkaXJlY3QgPSByb3V0ZS5xdWVyeSAmJiByb3V0ZS5xdWVyeS5yZWRpcmVjdDsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBiZWZvcmVDcmVhdGUoKSB7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJib2R5Iikuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJiYWNrZ3JvdW5kLWNvbG9yOiM4NzI2MjQiKTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJib2R5Iikuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJiYWNrZ3JvdW5kLWNvbG9yOicnIik7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgLy8g5Zyo57uE5Lu26ZSA5q+B5LmL5YmN5omn6KGMIGF1dG9maXQub2ZmKCkKICAgIGF1dG9maXQub2ZmKCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;AAwCA;AACA;AACA;AACA;AACA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;MACA;QACAC;MACA;QACAA;MACA;IACA;IACA;MACA;QACAA;MACA;QACAA;MACA;IACA;IACA;MACAC;QACAC;QACAC;MACA;MACAC;QACAF;UAAAG;UAAAC;UAAAC;QAAA;QACAJ;UAAAE;UAAAC;UAAAC;QAAA;MACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAEAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;UACA;UACA;UACA;YACA;YACA;UAEA;YACA;UAEA;QACA;UACAC;UACA;QACA;MACA;IACA;EACA;EACAC;IACAC;MACAC;QACA;MACA;MACAC;IACA;EAEA;EACAC;IACAC,SACAC,sBACAC;EACA;EACAC;IACAH;EACA;EACAG;IACA;IACA1B;EACA;AACA","names":["name","mounted","autofit","data","callback","loginForm","username","password","loginRules","required","trigger","validator","loading","pwdType","redirect","labelPosition","methods","showPwd","handleLogin","console","watch","$route","handler","immediate","beforeCreate","document","querySelector","setAttribute","beforeDestroy"],"sourceRoot":"src/pages/login","sources":["login.vue"],"sourcesContent":["<template>\n  <div class=\"LoginContainer\" style=\"zoom:1.3\">\n    <div class=\"headBox\">\n      <p>广东海洋大学云端统战部</p>\n    </div>\n    <div class=\"mainContainer\">\n      <div class=\"photoBox\">\n        <img src=\"../../assets/img/logo.png\" alt=\"\" />\n        <img src=\"../../assets/img/LoginImg/云统战.png\" class=\"img2\" alt=\"\" />\n      </div>\n      <div class=\"LoginBox\">\n        <div class=\"logoBox\">\n          <img src=\"../../assets/img/LoginImg/学校logo.png\" alt=\"\" />\n        </div>\n        <div class=\"formBox\">\n          <el-form :label-position=\"labelPosition\" label-width=\"80px\" class=\"input\" ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" auto-complete=\"on\">\n\n            <el-form-item label=\"账号\" class=\"setFormColor\" prop=\"username\">\n              <el-input type=\"text\" v-model=\"loginForm.username\" name=\"username\" auto-complete=\"on\" placeholder=\"username\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\" class=\"setFormColor\" prop=\"password\">\n              <el-input :type=\"pwdType\" v-model=\"loginForm.password\" name=\"password\" auto-complete=\"on\" placeholder=\"password\" @keyup.enter.native=\"handleLogin\"></el-input>\n              <span class=\"show-pwd\" @click=\"showPwd\">\n                <svg-icon icon-class=\"eye\" />\n              </span>\n            </el-form-item>\n            <el-form-item class=\"submitBox\">\n              <el-button type=\"warning\" class=\"submitBtn\" :loading=\"loading\" @click=\"handleLogin\">\n                提交\n              </el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { setSupport, getSupport, setCookie, getCookie } from '@/utils/support'\nimport { isvalidUsername } from '@/utils/validate'\nimport autofit from 'autofit.js'\nexport default {\n  name: 'login',\n  mounted() {\n\tautofit.init()\n  },\n  data () {\n    const validateUsername = (rule, value, callback) => {\n      if (!isvalidUsername(value)) {\n        callback(new Error('请输入正确的用户名'))\n      } else {\n        callback()\n      }\n    };\n    const validatePass = (rule, value, callback) => {\n      if (value.length < 6) {\n        callback(new Error('密码不能小于6位'))\n      } else {\n        callback()\n      }\n    };\n    return {\n      loginForm: {\n        username: '',\n        password: '',\n      },\n      loginRules: {\n        username: [{ required: true, trigger: 'blur', validator: validateUsername }],\n        password: [{ required: true, trigger: 'blur', validator: validatePass }]\n      },\n      loading: false,\n      pwdType: 'password',\n      redirect: undefined,\n      labelPosition: \"left\"\n    }\n  },\n  methods: {\n\n    showPwd () {\n      if (this.pwdType === 'password') {\n        this.pwdType = ''\n      } else {\n        this.pwdType = 'password'\n      }\n    },\n    handleLogin () {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          // debugger\n          this.loading = true\n          this.$store.dispatch('Login', this.loginForm).then(() => {\n            this.loading = false\n            this.$router.push('/appMainIndex')\n\n          }).catch(() => {\n            this.loading = false\n\n          })\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    }\n  },\n  watch: {\n    $route: {\n      handler: function (route) {\n        this.redirect = route.query && route.query.redirect\n      },\n      immediate: true\n    },\n\n  },\n  beforeCreate () {\n    document\n      .querySelector(\"body\")\n      .setAttribute(\"style\", \"background-color:#872624\");\n  },\n  beforeDestroy () {\n    document.querySelector(\"body\").setAttribute(\"style\", \"background-color:''\");\n  },\n  beforeDestroy() {\n    // 在组件销毁之前执行 autofit.off()\n    autofit.off();\n  }\n}\n</script>\n\n\n\n<style scoped>\n.LoginContainer {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  min-width: 1220px;\n  background: url(\"../../assets/img/IndexImg/13.gif\");\n  background-size: 100% 100%;\n}\n\n.headBox {\n  /* background-image: url(\"../../assets/img/IndexImg/4.png\");\n  background-size: 100% 80px;\n  background-repeat: no-repeat; */\n  min-width: 1220px;\n  max-width: 100%;\n  height: 80px;\n  font-size: 18pt;\n  text-align: center;\n  color: #f7d7b6;\n  font-weight: bold;\n  line-height: 55px;\n}\n\n.mainContainer {\n  width: 1220px;\n  height: 400px;\n  margin: auto;\n  margin-top: 150px;\n}\n\n.photoBox {\n  float: left;\n  width: 600px;\n  height: 400px;\n}\n\n.photoBox img {\n  width: 600px;\n  height: 400px;\n}\n\n.LoginBox {\n  position: relative;\n  float: right;\n  width: 600px;\n  height: 400px;\n  /* background-image: url(\"../../assets/img/LoginImg/框2.png\");\n  background-repeat: no-repeat;\n  background-size: 100% 400px; */\n}\n\n.logoBox {\n  position: absolute;\n  left: calc(50% - 60px);\n  top: -40px;\n}\n\n.formBox {\n  padding: 20px;\n  margin-top: 80px;\n}\n\n::v-deep .setFormColor .el-form-item__label {\n  color: #f7d7b6;\n  font-size: 18px;\n}\n\n::v-deep .submitBox .el-form-item__content {\n  margin-left: 0 !important;\n}\n\n.submitBtn {\n  font-size: 18px;\n  display: block;\n  margin: auto;\n}\n/* 杨政恒 */\n.photoBox {\n  display: flex;\n  align-items: center;\n}\n.photoBox img {\n  width: 250px;\n  height: 250px;\n}\n.photoBox img.img2 {\n  width: 330px;\n  height: 230px;\n}\n.input {\n  padding-top: 40px;\n}\n</style>"]}]}