{"remainingRequest":"C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\src\\pages\\login\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\src\\pages\\login\\login.vue","mtime":1710661338540},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DIO\\Desktop\\云统战\\qianduantongzhan\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715100000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IHNldFN1cHBvcnQsIGdldFN1cHBvcnQsIHNldENvb2tpZSwgZ2V0Q29va2llIH0gZnJvbSAnQC91dGlscy9zdXBwb3J0JwppbXBvcnQgeyBpc3ZhbGlkVXNlcm5hbWUgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJwppbXBvcnQgYXV0b2ZpdCBmcm9tICdhdXRvZml0LmpzJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xvZ2luJywKICBtb3VudGVkKCkgewogICAgYXV0b2ZpdC5pbml0KCkKICB9LAogIGRhdGEoKSB7CiAgICBjb25zdCB2YWxpZGF0ZVVzZXJuYW1lID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAoIWlzdmFsaWRVc2VybmFtZSh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeato+ehrueahOeUqOaIt+WQjScpKQogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCkKICAgICAgfQogICAgfTsKICAgIGNvbnN0IHZhbGlkYXRlUGFzcyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDYpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+WvhueggeS4jeiDveWwj+S6jjbkvY0nKSkKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpCiAgICAgIH0KICAgIH07CiAgICByZXR1cm4gewogICAgICBsb2dpbkZvcm06IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICB9LAogICAgICBsb2dpblJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCB0cmlnZ2VyOiAnYmx1cicsIHZhbGlkYXRvcjogdmFsaWRhdGVVc2VybmFtZSB9XSwKICAgICAgICBwYXNzd29yZDogW3sgcmVxdWlyZWQ6IHRydWUsIHRyaWdnZXI6ICdibHVyJywgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MgfV0KICAgICAgfSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHB3ZFR5cGU6ICdwYXNzd29yZCcsCiAgICAgIHJlZGlyZWN0OiB1bmRlZmluZWQsCiAgICAgIGxhYmVsUG9zaXRpb246ICJsZWZ0IgogICAgfQogIH0sCiAgbWV0aG9kczogewoKICAgIHNob3dQd2QoKSB7CiAgICAgIGlmICh0aGlzLnB3ZFR5cGUgPT09ICdwYXNzd29yZCcpIHsKICAgICAgICB0aGlzLnB3ZFR5cGUgPSAnJwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucHdkVHlwZSA9ICdwYXNzd29yZCcKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUxvZ2luKCkgewogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAvLyBkZWJ1Z2dlcgogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ0xvZ2luJywgdGhpcy5sb2dpbkZvcm0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2FwcE1haW5JbmRleCcpCgogICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQoKICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChyb3V0ZSkgewogICAgICAgIHRoaXMucmVkaXJlY3QgPSByb3V0ZS5xdWVyeSAmJiByb3V0ZS5xdWVyeS5yZWRpcmVjdAogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCgogIH0sCiAgYmVmb3JlQ3JlYXRlKCkgewogICAgZG9jdW1lbnQKICAgICAgLnF1ZXJ5U2VsZWN0b3IoImJvZHkiKQogICAgICAuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJiYWNrZ3JvdW5kLWNvbG9yOiM4NzI2MjQiKTsKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYm9keSIpLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiYmFja2dyb3VuZC1jb2xvcjonJyIpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIC8vIOWcqOe7hOS7tumUgOavgeS5i+WJjeaJp+ihjCBhdXRvZml0Lm9mZigpCiAgICBhdXRvZml0Lm9mZigpOwogIH0KfQo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\n  <div class=\"LoginContainer\" style=\"zoom:1.3\">\n    <div class=\"headBox\">\n      <p>广东海洋大学云端统战部</p>\n    </div>\n    <div class=\"mainContainer\">\n      <div class=\"photoBox\">\n        <img src=\"../../assets/img/logo.png\" alt=\"\" />\n        <img src=\"../../assets/img/LoginImg/云统战.png\" class=\"img2\" alt=\"\" />\n      </div>\n      <div class=\"LoginBox\">\n        <div class=\"logoBox\">\n          <img src=\"../../assets/img/LoginImg/学校logo.png\" alt=\"\" />\n        </div>\n        <div class=\"formBox\">\n          <el-form :label-position=\"labelPosition\" label-width=\"80px\" class=\"input\" ref=\"loginForm\" :model=\"loginForm\"\n            :rules=\"loginRules\" auto-complete=\"on\">\n\n            <el-form-item label=\"账号\" class=\"setFormColor\" prop=\"username\">\n              <el-input type=\"text\" v-model=\"loginForm.username\" name=\"username\" auto-complete=\"on\"\n                placeholder=\"username\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\" class=\"setFormColor\" prop=\"password\">\n              <el-input :type=\"pwdType\" v-model=\"loginForm.password\" name=\"password\" auto-complete=\"on\"\n                placeholder=\"password\" @keyup.enter.native=\"handleLogin\"></el-input>\n              <span class=\"show-pwd\" @click=\"showPwd\">\n                <svg-icon icon-class=\"eye\" />\n              </span>\n            </el-form-item>\n            <el-form-item class=\"submitBox\">\n              <el-button type=\"warning\" class=\"submitBtn\" :loading=\"loading\" @click=\"handleLogin\">\n                提交\n              </el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { setSupport, getSupport, setCookie, getCookie } from '@/utils/support'\nimport { isvalidUsername } from '@/utils/validate'\nimport autofit from 'autofit.js'\nexport default {\n  name: 'login',\n  mounted() {\n    autofit.init()\n  },\n  data() {\n    const validateUsername = (rule, value, callback) => {\n      if (!isvalidUsername(value)) {\n        callback(new Error('请输入正确的用户名'))\n      } else {\n        callback()\n      }\n    };\n    const validatePass = (rule, value, callback) => {\n      if (value.length < 6) {\n        callback(new Error('密码不能小于6位'))\n      } else {\n        callback()\n      }\n    };\n    return {\n      loginForm: {\n        username: '',\n        password: '',\n      },\n      loginRules: {\n        username: [{ required: true, trigger: 'blur', validator: validateUsername }],\n        password: [{ required: true, trigger: 'blur', validator: validatePass }]\n      },\n      loading: false,\n      pwdType: 'password',\n      redirect: undefined,\n      labelPosition: \"left\"\n    }\n  },\n  methods: {\n\n    showPwd() {\n      if (this.pwdType === 'password') {\n        this.pwdType = ''\n      } else {\n        this.pwdType = 'password'\n      }\n    },\n    handleLogin() {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          // debugger\n          this.loading = true\n          this.$store.dispatch('Login', this.loginForm).then(() => {\n            this.loading = false\n            this.$router.push('/appMainIndex')\n\n          }).catch(() => {\n            this.loading = false\n\n          })\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    }\n  },\n  watch: {\n    $route: {\n      handler: function (route) {\n        this.redirect = route.query && route.query.redirect\n      },\n      immediate: true\n    },\n\n  },\n  beforeCreate() {\n    document\n      .querySelector(\"body\")\n      .setAttribute(\"style\", \"background-color:#872624\");\n  },\n\n  beforeDestroy() {\n    document.querySelector(\"body\").setAttribute(\"style\", \"background-color:''\");\n  },\n  beforeDestroy() {\n    // 在组件销毁之前执行 autofit.off()\n    autofit.off();\n  }\n}\n</script>\n\n\n\n<style scoped>\n.LoginContainer {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  min-width: 1220px;\n  background: url(\"../../assets/img/IndexImg/13.gif\");\n  background-size: 100% 100%;\n}\n\n.headBox {\n  /* background-image: url(\"../../assets/img/IndexImg/4.png\");\n  background-size: 100% 80px;\n  background-repeat: no-repeat; */\n  min-width: 1220px;\n  max-width: 100%;\n  height: 80px;\n  font-size: 18pt;\n  text-align: center;\n  color: #f7d7b6;\n  font-weight: bold;\n  line-height: 55px;\n}\n\n.mainContainer {\n  width: 1220px;\n  height: 400px;\n  margin: auto;\n  margin-top: 150px;\n}\n\n.photoBox {\n  float: left;\n  width: 600px;\n  height: 400px;\n}\n\n.photoBox img {\n  width: 600px;\n  height: 400px;\n}\n\n.LoginBox {\n  position: relative;\n  float: right;\n  width: 600px;\n  height: 400px;\n  /* background-image: url(\"../../assets/img/LoginImg/框2.png\");\n  background-repeat: no-repeat;\n  background-size: 100% 400px; */\n}\n\n.logoBox {\n  position: absolute;\n  left: calc(50% - 60px);\n  top: -40px;\n}\n\n.formBox {\n  padding: 20px;\n  margin-top: 80px;\n}\n\n::v-deep .setFormColor .el-form-item__label {\n  color: #f7d7b6;\n  font-size: 18px;\n}\n\n::v-deep .submitBox .el-form-item__content {\n  margin-left: 0 !important;\n}\n\n.submitBtn {\n  font-size: 18px;\n  display: block;\n  margin: auto;\n}\n\n/* 杨政恒 */\n.photoBox {\n  display: flex;\n  align-items: center;\n}\n\n.photoBox img {\n  width: 250px;\n  height: 250px;\n}\n\n.photoBox img.img2 {\n  width: 330px;\n  height: 230px;\n}\n\n.input {\n  padding-top: 40px;\n}\n</style>"]}]}