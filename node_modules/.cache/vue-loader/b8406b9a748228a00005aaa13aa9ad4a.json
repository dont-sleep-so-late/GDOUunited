{"remainingRequest":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\views\\ums\\menu\\components\\MenuDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\src\\views\\ums\\menu\\components\\MenuDetail.vue","mtime":1694958552000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86198\\Desktop\\qianduantongzhan\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715100000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGZldGNoTGlzdCwgY3JlYXRlTWVudSwgdXBkYXRlTWVudSwgZ2V0TWVudSB9IGZyb20gJ0AvYXBpL21lbnUnOwoKY29uc3QgZGVmYXVsdE1lbnUgPSB7CiAgdGl0bGU6ICcnLAogIHBhcmVudElkOiAwLAogIG5hbWU6ICcnLAogIGljb246ICcnLAogIGhpZGRlbjogMCwKICBzb3J0OiAwCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWVudURldGFpbCIsCiAgcHJvcHM6IHsKICAgIGlzRWRpdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBtZW51OiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0TWVudSksCiAgICAgIHNlbGVjdE1lbnVMaXN0OiBbXSwKICAgICAgcnVsZXM6IHsKICAgICAgICB0aXRsZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeiPnOWNleWQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgeyBtaW46IDIsIG1heDogMTQwLCBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDIg5YiwIDE0MCDkuKrlrZfnrKYnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgbmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWJjeerr+WQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgeyBtaW46IDIsIG1heDogMTQwLCBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDIg5YiwIDE0MCDkuKrlrZfnrKYnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgaWNvbjogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWJjeerr+WbvuaghycsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgeyBtaW46IDIsIG1heDogMTQwLCBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDIg5YiwIDE0MCDkuKrlrZfnrKYnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgZ2V0TWVudSh0aGlzLiRyb3V0ZS5xdWVyeS5pZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5tZW51ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLm1lbnUgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0TWVudSk7CiAgICB9CiAgICB0aGlzLmdldFNlbGVjdE1lbnVMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRTZWxlY3RNZW51TGlzdCAoKSB7CiAgICAgIGZldGNoTGlzdCgwLCB7IHBhZ2VTaXplOiAxMDAsIHBhZ2VOdW06IDEgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5zZWxlY3RNZW51TGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdDsKICAgICAgICB0aGlzLnNlbGVjdE1lbnVMaXN0LnVuc2hpZnQoeyBpZDogMCwgdGl0bGU6ICfml6DkuIrnuqfoj5zljZUnIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBvblN1Ym1pdCAoZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbmj5DkuqTmlbDmja4nLCAn5o+Q56S6JywgewogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgICAgICAgICB1cGRhdGVNZW51KHRoaXMuJHJvdXRlLnF1ZXJ5LmlkLCB0aGlzLm1lbnUpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnmiJDlip8nLAogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5iYWNrKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY3JlYXRlTWVudSh0aGlzLm1lbnUpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtKGZvcm1OYW1lKTsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5o+Q5Lqk5oiQ5YqfJywKICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuYmFjaygpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAn6aqM6K+B5aSx6LSlJywKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRGb3JtIChmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLm1lbnUgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0TWVudSk7CiAgICAgIHRoaXMuZ2V0U2VsZWN0TWVudUxpc3QoKTsKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["MenuDetail.vue"],"names":[],"mappings":";AAqCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MenuDetail.vue","sourceRoot":"src/views/ums/menu/components","sourcesContent":["<template>\n  <el-card class=\"form-container\" shadow=\"never\">\n    <el-form :model=\"menu\" :rules=\"rules\" ref=\"menuFrom\" label-width=\"150px\">\n      <el-form-item label=\"菜单名称：\" prop=\"title\">\n        <el-input v-model=\"menu.title\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"上级菜单：\">\n        <el-select v-model=\"menu.parentId\" placeholder=\"请选择菜单\">\n          <el-option v-for=\"item in selectMenuList\" :key=\"item.id\" :label=\"item.title\" :value=\"item.id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"前端名称：\" prop=\"name\">\n        <el-input v-model=\"menu.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"前端图标：\" prop=\"icon\">\n        <el-input v-model=\"menu.icon\" style=\"width: 80%\"></el-input>\n        <!-- <svg-icon style=\"margin-left: 8px\" :icon-class=\"menu.icon\"></svg-icon> -->\n      </el-form-item>\n      <el-form-item label=\"是否显示：\">\n        <el-radio-group v-model=\"menu.hidden\">\n          <el-radio :label=\"0\">是</el-radio>\n          <el-radio :label=\"1\">否</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"排序：\">\n        <el-input v-model=\"menu.sort\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit('menuFrom')\">提交</el-button>\n        <el-button v-if=\"!isEdit\" @click=\"resetForm('menuFrom')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n</template>\n\n<script>\nimport { fetchList, createMenu, updateMenu, getMenu } from '@/api/menu';\n\nconst defaultMenu = {\n  title: '',\n  parentId: 0,\n  name: '',\n  icon: '',\n  hidden: 0,\n  sort: 0\n};\nexport default {\n  name: \"MenuDetail\",\n  props: {\n    isEdit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      menu: Object.assign({}, defaultMenu),\n      selectMenuList: [],\n      rules: {\n        title: [\n          { required: true, message: '请输入菜单名称', trigger: 'blur' },\n          { min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur' }\n        ],\n        name: [\n          { required: true, message: '请输入前端名称', trigger: 'blur' },\n          { min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur' }\n        ],\n        icon: [\n          { required: true, message: '请输入前端图标', trigger: 'blur' },\n          { min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  created () {\n    if (this.isEdit) {\n      getMenu(this.$route.query.id).then(response => {\n        this.menu = response.data;\n      });\n    } else {\n      this.menu = Object.assign({}, defaultMenu);\n    }\n    this.getSelectMenuList();\n  },\n  methods: {\n    getSelectMenuList () {\n      fetchList(0, { pageSize: 100, pageNum: 1 }).then(response => {\n        this.selectMenuList = response.data.list;\n        this.selectMenuList.unshift({ id: 0, title: '无上级菜单' });\n      });\n    },\n    onSubmit (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.$confirm('是否提交数据', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            if (this.isEdit) {\n              updateMenu(this.$route.query.id, this.menu).then(response => {\n                this.$message({\n                  message: '修改成功',\n                  type: 'success',\n                  duration: 1000\n                });\n                this.$router.back();\n              });\n            } else {\n              createMenu(this.menu).then(response => {\n                this.$refs[formName].resetFields();\n                this.resetForm(formName);\n                this.$message({\n                  message: '提交成功',\n                  type: 'success',\n                  duration: 1000\n                });\n                this.$router.back();\n              });\n            }\n          });\n\n        } else {\n          this.$message({\n            message: '验证失败',\n            type: 'error',\n            duration: 1000\n          });\n          return false;\n        }\n      });\n    },\n    resetForm (formName) {\n      this.$refs[formName].resetFields();\n      this.menu = Object.assign({}, defaultMenu);\n      this.getSelectMenuList();\n    },\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}